!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="38ad9c57-47fc-4baf-9672-c1797cde3878",e._sentryDebugIdIdentifier="sentry-dbid-38ad9c57-47fc-4baf-9672-c1797cde3878")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1562,8426],{107:(e,t,r)=>{var l=r(50117),a=r(94277),n=Object.prototype.hasOwnProperty;e.exports=a(function(e,t,r){n.call(e,r)?e[r].push(t):l(e,r,[t])})},1051:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});let l=(0,r(23983).A)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},20081:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});let l={integrationsListWithOrg:e=>["organizations",e,"integrations"],integrationsList:()=>["organizations","integrations"],vercelProjectList:e=>["organizations",e,"vercel-projects"],vercelConnectionsList:e=>["organizations",e,"vercel-connections"],githubBranch:(e,t,r,l)=>["organizations",e,"branches",t,r,l],githubAuthorization:()=>["github-authorization"],githubRepositoriesList:()=>["github-repositories"],githubBranchesList:e=>["github-branches",e],githubConnectionsList:e=>["organizations",e,"github-connections"],vercelRedirect:e=>["vercel-redirect",e]}},28097:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});let l=(0,r(23983).A)("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]])},33408:(e,t,r)=>{"use strict";r.d(t,{X:()=>i});var l=r(56947),a=r(40807),n=r(20081);async function s(e,t){let{installationId:r}=e;if(!r)throw Error("installationId is required");let{data:l,error:n}=await (0,a.Jt)("/platform/vercel/redirect/{installation_id}",{params:{path:{installation_id:r}},signal:t});return n&&(0,a.H4)(n),l}let i=function(e){let{installationId:t}=e,{enabled:r=!0,...a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,l.I)(n.Z.vercelRedirect(t),e=>{let{signal:r}=e;return s({installationId:t},r)},{enabled:r&&void 0!==t,...a})}},37053:(e,t,r)=>{"use strict";r.d(t,{KQ:()=>o});var l=r(56947),a=r(40807),n=r(52347);let s=["Owner","Administrator","Developer","Read-only"];async function i(e,t){let{slug:r}=e;if(!r)throw Error("slug is required");let{data:l,error:n}=await (0,a.Jt)("/platform/organizations/{slug}/roles",{params:{path:{slug:r}},signal:t});return n&&(0,a.H4)(n),l}let o=function(e){let{slug:t}=e,{enabled:r=!0,...a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,l.I)(n.O.rolesV2(t),e=>{let{signal:r}=e;return i({slug:t},r)},{enabled:r&&void 0!==t,select:e=>({...e,org_scoped_roles:e.org_scoped_roles.sort((e,t)=>s.indexOf(e.name)-s.indexOf(t.name))}),...a})}},38230:(e,t,r)=>{var l=r(92855);e.exports=function(){try{var e=l(Object,"defineProperty");return e({},"",{}),e}catch(e){}}()},40402:(e,t,r)=>{"use strict";r.d(t,{BS:()=>i,Dm:()=>c,HJ:()=>j,Rf:()=>g,Uw:()=>d,Vw:()=>w,Xr:()=>b,aw:()=>p,bV:()=>s,cJ:()=>f,dX:()=>u,eh:()=>o,fh:()=>y,gu:()=>m,sZ:()=>x,tn:()=>v,xp:()=>h});var l=r(80263),a=r(53239),n=r(51859);let s="mx-auto w-full max-w-[1200px]",i="px-4 @lg:px-6 @xl:px-12 @2xl:px-20 @3xl:px-24",o=(0,a.forwardRef)((e,t)=>{let{className:r,bottomPadding:a,size:s="default",...o}=e;return(0,l.jsx)("div",{ref:t,...o,className:(0,n.cn)("mx-auto w-full",{small:"max-w-[768px]",default:"max-w-[1200px]",large:"max-w-[1600px]",full:"max-w-none"}[s],i,a&&"pb-16",r)})}),d=(0,a.forwardRef)((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)("header",{...a,ref:t,className:(0,n.cn)("w-full","flex-col gap-3 py-6",r)})}),c=(0,a.forwardRef)((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)("h1",{ref:t,...a,className:(0,n.cn)("text-2xl",r)})}),u=(0,a.forwardRef)((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)("p",{ref:t,...a,className:(0,n.cn)("text-sm text-foreground-light",r)})}),m=(0,a.forwardRef)((e,t)=>{let{className:r,isFullWidth:a,topPadding:s,...i}=e;return(0,l.jsx)("div",{ref:t,...i,className:(0,n.cn)("flex flex-col first:pt-12 py-6",a?"w-full":"gap-3 lg:grid md:grid-cols-12",r)})}),f=(0,a.forwardRef)((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)("div",{ref:t,...a,className:(0,n.cn)("w-full h-px bg-border",r)})}),x=(0,a.forwardRef)((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)("h3",{ref:t,...a,className:(0,n.cn)("text-foreground text-xl",r)})}),p=(0,a.forwardRef)((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)("p",{ref:t,...a,className:(0,n.cn)("text-sm text-foreground-light",r)})}),h=(0,a.forwardRef)((e,t)=>{let{className:r,children:a,title:s,...i}=e;return(0,l.jsxs)("div",{ref:t,...i,className:(0,n.cn)("col-span-4 xl:col-span-5 prose text-sm",r),children:[s&&(0,l.jsx)("h2",{children:s}),a]})}),g=(0,a.forwardRef)((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)("div",{ref:t,...a,className:(0,n.cn)("col-span-8 xl:col-span-7","flex flex-col gap-6",r)})}),v=(0,a.forwardRef)((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)("div",{ref:t,...a,className:(0,n.cn)("flex flex-col gap-3 items-center",r)})}),j=(0,a.forwardRef)((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)("div",{ref:t,...a,className:(0,n.cn)("flex w-full items-center",r)})}),y=(0,a.forwardRef)((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)("div",{ref:t,...a,className:(0,n.cn)("flex flex-row gap-3",r)})}),b=(0,a.forwardRef)((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)("div",{ref:t,...a,className:(0,n.cn)("flex flex-col gap-3","min-w-[420px]",r)})}),w=(0,a.forwardRef)((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)("div",{ref:t,...a,className:(0,n.cn)(s,i,"my-8 flex flex-col gap-8",r)})});d.displayName="ScaffoldHeader",c.displayName="ScaffoldTitle",u.displayName="ScaffoldDescription",o.displayName="ScaffoldContainer",f.displayName="ScaffoldDivider",m.displayName="ScaffoldSection",b.displayName="ScaffoldColumn",h.displayName="ScaffoldSectionDetail",g.displayName="ScaffoldSectionContent",v.displayName="ScaffoldFilterAndContent",j.displayName="ScaffoldActionsContainer",y.displayName="ScaffoldActionsGroup",w.displayName="ScaffoldContainerLegacy",x.displayName="ScaffoldSectionTitle",p.displayName="ScaffoldSectionDescription"},41226:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});let l=(0,r(23983).A)("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]])},42938:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});let l=(0,r(23983).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},44893:(e,t,r)=>{"use strict";r.d(t,{bL:()=>b,zi:()=>w});var l=r(54993),a=r(53239),n=r(91968),s=r(63774),i=r(68436),o=r(87990),d=r(15630),c=r(89422),u=r(70297);let m="Switch",[f,x]=(0,i.A)(m),[p,h]=f(m),g=(0,a.forwardRef)((e,t)=>{let{__scopeSwitch:r,name:i,checked:d,defaultChecked:c,required:m,disabled:f,value:x="on",onCheckedChange:h,...g}=e,[v,b]=(0,a.useState)(null),w=(0,s.s)(t,e=>b(e)),N=(0,a.useRef)(!1),_=!v||!!v.closest("form"),[S=!1,I]=(0,o.i)({prop:d,defaultProp:c,onChange:h});return(0,a.createElement)(p,{scope:r,checked:S,disabled:f},(0,a.createElement)(u.sG.button,(0,l.A)({type:"button",role:"switch","aria-checked":S,"aria-required":m,"data-state":y(S),"data-disabled":f?"":void 0,disabled:f,value:x},g,{ref:w,onClick:(0,n.m)(e.onClick,e=>{I(e=>!e),_&&(N.current=e.isPropagationStopped(),N.current||e.stopPropagation())})})),_&&(0,a.createElement)(j,{control:v,bubbles:!N.current,name:i,value:x,checked:S,required:m,disabled:f,style:{transform:"translateX(-100%)"}}))}),v=(0,a.forwardRef)((e,t)=>{let{__scopeSwitch:r,...n}=e,s=h("SwitchThumb",r);return(0,a.createElement)(u.sG.span,(0,l.A)({"data-state":y(s.checked),"data-disabled":s.disabled?"":void 0},n,{ref:t}))}),j=e=>{let{control:t,checked:r,bubbles:n=!0,...s}=e,i=(0,a.useRef)(null),o=(0,d.Z)(r),u=(0,c.X)(t);return(0,a.useEffect)(()=>{let e=i.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(o!==r&&t){let l=new Event("click",{bubbles:n});t.call(e,r),e.dispatchEvent(l)}},[o,r,n]),(0,a.createElement)("input",(0,l.A)({type:"checkbox","aria-hidden":!0,defaultChecked:r},s,{tabIndex:-1,ref:i,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function y(e){return e?"checked":"unchecked"}let b=g,w=v},49655:(e,t,r)=>{"use strict";r.d(t,{A:()=>i,y:()=>s});var l=r(80263),a=r(51859);let n=e=>{let{className:t,delayIndex:r=0,animationDelay:n=150}=e;return(0,l.jsx)("div",{className:(0,a.cn)("shimmering-loader rounded py-3",t),style:{animationFillMode:"backwards",animationDelay:"".concat(r*n,"ms")},"data-sentry-component":"ShimmeringLoader","data-sentry-source-file":"index.tsx"})},s=e=>{let{className:t}=e;return(0,l.jsxs)("div",{className:(0,a.cn)(t,"space-y-2"),"data-sentry-component":"GenericSkeletonLoader","data-sentry-source-file":"index.tsx",children:[(0,l.jsx)(n,{"data-sentry-element":"ShimmeringLoader","data-sentry-source-file":"index.tsx"}),(0,l.jsx)(n,{className:"w-3/4","data-sentry-element":"ShimmeringLoader","data-sentry-source-file":"index.tsx"}),(0,l.jsx)(n,{className:"w-1/2","data-sentry-element":"ShimmeringLoader","data-sentry-source-file":"index.tsx"})]})},i=n},50117:(e,t,r)=>{var l=r(38230);e.exports=function(e,t,r){"__proto__"==t&&l?l(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}},52347:(e,t,r)=>{"use strict";r.d(t,{O:()=>l});let l={rolesV2:e=>["organization-members",e,"roles-v2"],invitations:e=>["organization-members",e,"invitations"],invitation:(e,t)=>["organization-members",e,"invitations",t],token:(e,t)=>["organization-members",e,"token",t]}},52700:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});let l=(0,r(23983).A)("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]])},53182:(e,t,r)=>{"use strict";r.d(t,{O:()=>i,h:()=>s});var l=r(80263),a=r(53239),n=r(51859);let s=(0,a.forwardRef)((e,t)=>(0,l.jsx)("nav",{ref:t,dir:"ltr",...e,className:(0,n.cn)("border-b",e.className),children:(0,l.jsx)("ul",{role:"menu",className:"flex gap-5",children:e.children})})),i=(0,a.forwardRef)((e,t)=>{let{children:r,className:a,active:s,...i}=e;return(0,l.jsx)("li",{ref:t,"aria-selected":s?"true":"false","data-state":s?"active":"inactive",className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap text-sm ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:text-foreground text-foreground-lighter hover:text-foreground data-[state=active]:border-foreground border-b-2 border-transparent *:py-1.5",a),...i,children:r})})},53847:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/org/[slug]/team",function(){return r(65284)}])},55345:(e,t,r)=>{"use strict";r.d(t,{cC:()=>c,j5:()=>d});var l=r(60045),a=r(56947),n=r(40807),s=r(77227),i=r(59156);async function o(e,t){let{orgSlug:r}=e;if(!r)throw Error("orgSlug is required");let{error:l,data:a}=await (0,n.Jt)("/platform/organizations/{slug}/billing/subscription",{params:{path:{slug:r}},signal:t});return l&&(0,n.H4)(l),a}let d=function(e){let{orgSlug:t}=e,{enabled:r=!0,...n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=(0,s.SE)(l.aG.BILLING_READ,"stripe.subscriptions");return(0,a.I)(i.s.orgSubscription(t),e=>{let{signal:r}=e;return o({orgSlug:t},r)},{enabled:r&&d&&void 0!==t,staleTime:36e5,...n})},c=e=>{let{data:t}=d({orgSlug:e});return(null==t?void 0:t.plan.id)==="enterprise"||(null==t?void 0:t.plan.id)==="team"}},57980:(e,t,r)=>{"use strict";r.d(t,{C5:()=>y,MJ:()=>v,Rr:()=>j,eI:()=>h,lR:()=>g,lV:()=>u,zB:()=>f});var l=r(80263),a=r(38694),n=r(53239),s=r(87494),i=r(51859),o=r(97380),d=r(88712),c=r(37055);let u=s.Op,m=n.createContext({}),f=e=>{let{...t}=e;return(0,l.jsx)(m.Provider,{value:{name:t.name},"data-sentry-element":"unknown","data-sentry-component":"FormField","data-sentry-source-file":"form.tsx",children:(0,l.jsx)(s.xI,{...t,"data-sentry-element":"Controller","data-sentry-source-file":"form.tsx"})})},x=()=>{let e=n.useContext(m),t=n.useContext(p),{getFieldState:r,formState:l}=(0,s.xW)(),a=r(e.name,l);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=t;return{id:i,name:e.name,formItemId:"".concat(i,"-form-item"),formDescriptionId:"".concat(i,"-form-item-description"),formMessageId:"".concat(i,"-form-item-message"),...a}},p=n.createContext({}),h=n.forwardRef((e,t)=>{let{asChild:r,...s}=e,i=n.useId(),o=r?a.DX:"div";return(0,l.jsx)(p.Provider,{value:{id:i},children:(0,l.jsx)(o,{ref:t,...s})})});h.displayName="FormItem";let g=n.forwardRef((e,t)=>{let{className:r,...a}=e,{error:n,formItemId:s}=x();return(0,l.jsx)(o.J,{ref:t,className:(0,i.cn)("text-foreground-light","transition-colors",n&&"!text-destructive",r,"leading-normal"),htmlFor:s,...a})});g.displayName="FormLabel";let v=n.forwardRef((e,t)=>{let{...r}=e,{error:n,formItemId:s,formDescriptionId:i,formMessageId:o}=x();return(0,l.jsx)(a.DX,{ref:t,id:s,"aria-describedby":n?"".concat(i," ").concat(o):"".concat(i),"aria-invalid":!!n,...r})});v.displayName="FormControl";let j=n.forwardRef((e,t)=>{let{className:r,...a}=e,{formDescriptionId:n}=x();return(0,l.jsx)("div",{ref:t,id:n,className:(0,i.cn)("text-sm text-foreground-light",r),...a})});j.displayName="FormDescription";let y=n.forwardRef((e,t)=>{let{className:r,children:a,...n}=e,{error:s,formMessageId:o}=x(),u=s?String(null==s?void 0:s.message):a;return(0,l.jsx)(d.N,{initial:!1,children:u?(0,l.jsx)(c.P.div,{initial:{opacity:0,y:-5,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:-5,height:0},transition:{duration:.15,ease:"easeInOut"},children:(0,l.jsx)("p",{ref:t,id:o,className:(0,i.cn)("text-sm text-destructive",r),...n,children:u})},o):null})});y.displayName="FormMessage"},61110:(e,t,r)=>{"use strict";r.d(t,{Q:()=>i});var l=r(56947),a=r(40807),n=r(79918);async function s(e,t){let{slug:r}=e;if(!r)throw Error("slug is required");let[l,n]=await Promise.all([(0,a.Jt)("/platform/organizations/{slug}/members",{params:{path:{slug:r}},signal:t}),(0,a.Jt)("/platform/organizations/{slug}/members/invitations",{params:{path:{slug:r}},signal:t})]),{data:s,error:i}=l,{data:o,error:d}=n;return i&&(0,a.H4)(i),d&&(0,a.H4)(d),[...s,...o.invitations.map(e=>({...{invited_at:e.invited_at,invited_id:e.id,mfa_enabled:!1,username:e.invited_email.slice(0,1),primary_email:e.invited_email},role_ids:[e.role_id]}))]}let i=function(e){let{slug:t}=e,{enabled:r=!0,...a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,l.I)(n.O.members(t),e=>{let{signal:r}=e;return s({slug:t},r)},{enabled:r&&void 0!==t,...a})}},64459:(e,t,r)=>{"use strict";r.d(t,{p:()=>m});var l=r(80263),a=r(14484),n=r(53239),s=r(51527),i=r(51859),o=r(24794),d=r(71126),c=r(16865);function u(e){let{icon:t,className:r}=e;return(0,l.jsx)("div",{className:(0,i.cn)("absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-foreground-light",r),"data-sentry-component":"InputIconContainer","data-sentry-source-file":"InputIconContainer.tsx",children:t})}let m=(0,n.forwardRef)((e,t)=>{let{copy:r,showCopyOnHover:m=!1,icon:f,reveal:x=!1,actions:p,onCopy:h,iconContainerClassName:g,containerClassName:v,...j}=e,[y,b]=(0,n.useState)("Copy"),[w,N]=(0,n.useState)(!0),_=(0,c.A)("input"),S=[];return f&&S.push(_.with_icon),(0,l.jsxs)("div",{className:(0,i.cn)("relative group",v),children:[(0,l.jsx)(o.p,{ref:t,...j,onCopy:h,value:x&&w?"**** **** **** ****":j.value,className:(0,i.cn)(...S,j.className)}),f&&(0,l.jsx)(u,{icon:f,className:g}),r||p?(0,l.jsxs)("div",{className:_.actions_container,children:[r&&!(x&&w)?(0,l.jsx)(d.$,{size:"tiny",type:"default",className:(0,i.cn)(m&&"opacity-0 group-hover:opacity-100 transition"),icon:(0,l.jsx)(a.A,{size:16,className:"text-foreground-muted"}),onClick:()=>{var e;return e=j.value,void(0,s.l)(e,()=>{b("Copied"),setTimeout(function(){b("Copy")},3e3),null==h||h()})},children:y}):null,x&&w?(0,l.jsx)(d.$,{size:"tiny",type:"default",onClick:function(){N(!1)},children:"Reveal"}):null,p&&p]}):null]})})},64540:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var l=r(80263),a=r(53239),n=r(82758),s=r(51859),i=r(71126),o=r(10406);let d=(0,a.forwardRef)((e,t)=>{let{title:r,description:d,size:c="small",visible:u,onCancel:m,onConfirm:f,loading:x,cancelLabel:p="Cancel",confirmLabel:h="Submit",confirmLabelLoading:g,alert:v,children:j,variant:y="default",disabled:b,...w}=e,[N,_]=(0,a.useState)(void 0!==x&&x);return(0,a.useEffect)(()=>{u&&void 0===x&&_(!1)},[u]),(0,a.useEffect)(()=>{void 0!==x&&_(x)},[x]),(0,l.jsx)(n.lG,{open:u,...w,onOpenChange:()=>{u&&m()},children:(0,l.jsxs)(n.Cf,{ref:t,className:"p-0 gap-0 pb-5 !block",size:c,children:[(0,l.jsxs)(n.c7,{className:(0,s.cn)("border-b"),padding:"small",children:[(0,l.jsx)(n.L3,{children:r}),d&&(0,l.jsx)(n.rr,{children:d})]}),v&&(0,l.jsx)(o.Z,{type:y,label:v.title,description:v.description,className:"border-r-0 border-l-0 rounded-none -mt-px [&_svg]:ml-0.5 mb-0",...null==v?void 0:v.base}),j&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.OO,{padding:"small",children:j}),(0,l.jsx)(n.pf,{})]}),(0,l.jsxs)("div",{className:"flex gap-2 px-5 pt-5",children:[(0,l.jsx)(i.$,{size:"medium",block:!0,type:"default",disabled:N,onClick:()=>m(),children:p}),(0,l.jsx)(i.$,{block:!0,size:"medium",type:"destructive"===y?"danger":"warning"===y?"warning":"primary",htmlType:"submit",loading:N,disabled:N||b,onClick:e=>{e.preventDefault(),e.stopPropagation(),f(),void 0===N&&_(!0)},className:"truncate",children:h})]})]})})});d.displayName="ConfirmationModal";let c=d},65284:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>e3});var l=r(80263),a=r(95285),n=r(53239),s=r(19898),i=r(40402),o=r(37053),d=r(11503),c=r(38944),u=r(34969),m=r(2057),f=r(64459),x=r(32981),p=r(60045),h=r(27452),g=r(44679),v=r(59153),j=r.n(v),y=r(87494),b=r(73969),w=r(39353),N=r(72256),_=r(32144),S=r(80251),I=r(40807),k=r(79918),R=r(52347);async function A(e){let{slug:t,email:r,roleId:l,projects:a}=e,n={email:r,role_id:l};void 0!==a&&(n.role_scoped_projects=a);let{data:s,error:i}=await (0,I.bE)("/platform/organizations/{slug}/members/invitations",{params:{path:{slug:t}},body:n});return i&&(0,I.H4)(i),s}let z=function(){let{onSuccess:e,onError:t,...r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=(0,_.jE)();return(0,S.n)(e=>A(e),{async onSuccess(t,r,a){let{slug:n}=r;await Promise.all([l.invalidateQueries(R.O.rolesV2(n)),l.invalidateQueries(k.O.members(n))]),await (null==e?void 0:e(t,r,a))},async onError(e,r,l){void 0===t?b.oR.error("Failed to update member role: ".concat(e.message)):t(e,r,l)},...r})};var C=r(61110),L=r(84438),M=r(55345),E=r(77227),O=r(82758),T=r(16632),F=r(71126),B=r(57980),D=r(91378),V=r(20894),P=r(95793),q=r(36141),Q=r(67585),U=r(51859),G=r(24794),H=r(84377);let $=(e,t,r)=>{let{permissions:l,organizationSlug:a}=(0,E.GU)(r,e,void 0!==r&&void 0!==e),n=[],s=[];return t&&e&&t.forEach(e=>{(0,E.IT)(l,p.aG.CREATE,"auth.subject_roles",{resource:{role_id:e.id}},a)&&n.push(e.id),(0,E.IT)(l,p.aG.DELETE,"auth.subject_roles",{resource:{role_id:e.id}},a)&&s.push(e.id)}),{rolesAddable:n,rolesRemovable:s}},X=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.filter(e=>{var r;let[l]=null!=(r=e.role_ids)?r:[],a=t.find(e=>e.id===l);return(null==a?void 0:a.name)==="Owner"&&!e.invited_at}).length>1},J=()=>{var e,t;let{slug:r}=(0,s.g)(),{profile:a}=(0,m.xc)(),i=(0,u.a)(),{permissions:d}=(0,E.GU)(),[c,f]=(0,n.useState)(!1),[v,_]=(0,n.useState)(!1),{data:S}=(0,L.el)(),{data:I}=(0,C.Q)({slug:r}),{data:k,isSuccess:R}=(0,o.KQ)({slug:r}),A=null!=(e=null==k?void 0:k.org_scoped_roles)?e:[],X=(null!=S?S:[]).filter(e=>e.organization_id===(null==i?void 0:i.id)).sort((e,t)=>e.name.localeCompare(t.name));(0,E.SE)(p.aG.BILLING_READ,"stripe.subscriptions");let J=null==i?void 0:i.plan,K=(0,M.cC)(r),W=null==I?void 0:I.find(e=>e.gotrue_id===(null==a?void 0:a.gotrue_id)),Y=1===(null!=(t=null==W?void 0:W.role_ids)?t:[]).length&&A.some(e=>e.id===(null==W?void 0:W.role_ids[0])),{rolesAddable:Z}=$(null==i?void 0:i.slug,A,null!=d?d:[]),ee=Y&&A.some(e=>{let{id:t}=e;return(0,E.IT)(d,p.aG.CREATE,"user_invites",{resource:{role_id:t}},null==i?void 0:i.slug)}),{mutate:et,isLoading:er}=z(),el=w.Ik({email:w.Yj().email("Must be a valid email address").min(1,"Email is required"),role:w.Yj().min(1,"Role is required"),applyToOrg:w.zM(),projectRef:w.Yj()}),ea=(0,y.mN)({mode:"onBlur",reValidateMode:"onBlur",resolver:(0,x.u)(el),defaultValues:{email:"",role:"",applyToOrg:!0,projectRef:""}}),{applyToOrg:en}=ea.watch(),es=async e=>{if(!r)return console.error("Slug is required");if((null==a?void 0:a.id)===void 0)return console.error("Profile ID required");let t=A.find(e=>"Developer"===e.name),l=(null!=I?I:[]).find(t=>t.primary_email===e.email.toLowerCase());if(void 0!==l)if(l.invited_id)return(0,b.oR)("User has already been invited to this organization");else return(0,b.oR)("User is already in this organization");et({slug:r,email:e.email.toLowerCase(),roleId:Number(e.role),...!e.applyToOrg&&e.projectRef?{projects:[e.projectRef]}:{}},{onSuccess:()=>{var e;b.oR.success("Successfully sent invitation to new member"),f(!c),ea.reset({email:"",role:null!=(e=null==t?void 0:t.id.toString())?e:"",applyToOrg:!0,projectRef:""})}})};return(0,n.useEffect)(()=>{if(R&&c){let e=A.find(e=>"Developer"===e.name);void 0!==e&&ea.setValue("role",e.id.toString())}},[R,c]),(0,n.useEffect)(()=>{if(en)ea.setValue("projectRef","");else{let e=null==X?void 0:X[0];void 0!==e&&ea.setValue("projectRef",e.ref)}},[en]),(0,l.jsxs)(O.lG,{open:c,onOpenChange:f,"data-sentry-element":"Dialog","data-sentry-component":"InviteMemberButton","data-sentry-source-file":"InviteMemberButton.tsx",children:[(0,l.jsx)(O.zM,{asChild:!0,"data-sentry-element":"DialogTrigger","data-sentry-source-file":"InviteMemberButton.tsx",children:(0,l.jsxs)(T.m_,{"data-sentry-element":"Tooltip","data-sentry-source-file":"InviteMemberButton.tsx",children:[(0,l.jsx)(T.k$,{asChild:!0,"data-sentry-element":"TooltipTrigger","data-sentry-source-file":"InviteMemberButton.tsx",children:(0,l.jsx)(F.$,{disabled:!ee,className:"pointer-events-auto flex-grow md:flex-grow-0",onClick:()=>f(!0),"data-sentry-element":"Button","data-sentry-source-file":"InviteMemberButton.tsx",children:"Invite member"})}),!ee&&(0,l.jsx)(T.ZI,{side:"bottom",children:"You need additional permissions to invite a member to this organization"})]})}),(0,l.jsxs)(O.Cf,{size:"medium","data-sentry-element":"DialogContent","data-sentry-source-file":"InviteMemberButton.tsx",children:[(0,l.jsx)(O.c7,{"data-sentry-element":"DialogHeader","data-sentry-source-file":"InviteMemberButton.tsx",children:(0,l.jsx)(O.L3,{"data-sentry-element":"DialogTitle","data-sentry-source-file":"InviteMemberButton.tsx",children:"Invite a member to this organization"})}),(0,l.jsx)(O.pf,{"data-sentry-element":"DialogSectionSeparator","data-sentry-source-file":"InviteMemberButton.tsx"}),(0,l.jsx)(B.lV,{...ea,"data-sentry-element":"Form_Shadcn_","data-sentry-source-file":"InviteMemberButton.tsx",children:(0,l.jsxs)("form",{id:"organization-invitation",className:"flex flex-col gap-y-4",onSubmit:ea.handleSubmit(es),children:[(0,l.jsxs)(O.OO,{className:"flex flex-col gap-y-4 pb-2","data-sentry-element":"DialogSection","data-sentry-source-file":"InviteMemberButton.tsx",children:[K&&(0,l.jsx)(B.zB,{name:"applyToOrg",control:ea.control,render:e=>{let{field:t}=e;return(0,l.jsx)(H.M,{layout:"flex",label:"Apply role to all projects in the organization",children:(0,l.jsx)(B.MJ,{children:(0,l.jsx)(D.d,{checked:t.value,onCheckedChange:e=>ea.setValue("applyToOrg",e)})})})}}),(0,l.jsx)(B.zB,{name:"role",control:ea.control,render:e=>{var t,r;let{field:a}=e;return(0,l.jsx)(H.M,{label:"Member role",children:(0,l.jsx)(B.MJ,{children:(0,l.jsxs)(V.l6,{value:a.value,onValueChange:e=>ea.setValue("role",e),children:[(0,l.jsx)(V.bq,{className:"text-sm capitalize",children:null!=(r=null==(t=A.find(e=>e.id===Number(a.value)))?void 0:t.name)?r:"Unknown"}),(0,l.jsx)(V.gC,{children:(0,l.jsx)(V.s3,{children:A.map(e=>{let t=Z.includes(e.id);return(0,l.jsxs)(V.eb,{value:e.id.toString(),className:"text-sm [&>span:nth-child(2)]:w-full [&>span:nth-child(2)]:flex [&>span:nth-child(2)]:items-center [&>span:nth-child(2)]:justify-between",disabled:!t,children:[(0,l.jsx)("span",{children:e.name}),!t&&(0,l.jsx)("span",{children:"Additional permissions required to assign role"})]},e.id)})})})]})})})},"data-sentry-element":"FormField_Shadcn_","data-sentry-source-file":"InviteMemberButton.tsx"}),!en&&(0,l.jsx)(B.zB,{name:"projectRef",control:ea.control,render:e=>{var t,r;let{field:a}=e;return(0,l.jsx)(H.M,{label:"Select a project",description:"You can assign roles to multiple projects once the invite is accepted",children:(0,l.jsx)(B.MJ,{children:(0,l.jsxs)(P.AM,{open:v,onOpenChange:_,children:[(0,l.jsx)(P.Wv,{asChild:!0,children:(0,l.jsx)(F.$,{block:!0,type:"default",role:"combobox",size:"small",className:"justify-between max-w-[470px]",iconRight:(0,l.jsx)(h.A,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"}),children:null!=(r=null==(t=X.find(e=>e.ref===a.value))?void 0:t.name)?r:"Unknown"})}),(0,l.jsx)(P.hl,{sameWidthAsTrigger:!0,className:"p-0",children:(0,l.jsxs)(q.uB,{filter:(e,t)=>{let r=X.find(t=>t.ref===e),l=null==r?void 0:r.name.toLowerCase();return void 0!==l&&l.includes(t.toLowerCase())?1:+!!e.includes(t)},children:[(0,l.jsx)(q.G7,{placeholder:"Search project..."}),(0,l.jsxs)(q.oI,{children:[(0,l.jsx)(q.xL,{children:"No projects found..."}),(0,l.jsx)(q.L$,{children:(0,l.jsx)(Q.FK,{className:(0,U.cn)((X||[]).length>7&&"max-h-[210px] overflow-y-auto"),children:X.map(e=>(0,l.jsxs)(q.h_,{value:e.ref,onSelect:e=>{ea.setValue("projectRef",e),_(!1)},children:[(0,l.jsx)(g.A,{className:(0,U.cn)("mr-2 h-4 w-4",a.value===e.ref?"opacity-100":"opacity-0")}),e.name]},e.ref))})})]})]})})]})})})}}),(0,l.jsx)(B.zB,{name:"email",control:ea.control,render:e=>{let{field:t}=e;return(0,l.jsx)(H.M,{label:"Email address",children:(0,l.jsx)(B.MJ,{children:(0,l.jsx)(G.p,{autoFocus:!0,...t,autoComplete:"off",disabled:er,placeholder:"Enter email address"})})})},"data-sentry-element":"FormField_Shadcn_","data-sentry-source-file":"InviteMemberButton.tsx"}),(0,l.jsx)(N.A,{defaultVisibility:!1,title:"Single Sign-on (SSO) login option available",hideCollapse:!1,description:(0,l.jsxs)("div",{className:"space-y-4 mb-1",children:[(0,l.jsx)("p",{children:"Supabase offers single sign-on (SSO) as a login option to provide additional account security for your team. This allows company administrators to enforce the use of an identity provider when logging into Supabase."}),(0,l.jsx)("p",{children:"This is only available for organizations on Team Plan or above."}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(F.$,{asChild:!0,type:"default",children:(0,l.jsx)(j(),{href:"https://supabase.com/docs/guides/platform/sso",target:"_blank",rel:"noreferrer",children:"Learn more"})}),((null==J?void 0:J.id)==="free"||(null==J?void 0:J.id)==="pro")&&(0,l.jsx)(F.$,{asChild:!0,type:"default",children:(0,l.jsx)(j(),{href:"/org/".concat(r,"/billing?panel=subscriptionPlan&source=inviteMemberSSO"),children:"Upgrade to Team"})})]})]}),"data-sentry-element":"InformationBox","data-sentry-source-file":"InviteMemberButton.tsx"})]}),(0,l.jsx)(O.pf,{"data-sentry-element":"DialogSectionSeparator","data-sentry-source-file":"InviteMemberButton.tsx"}),(0,l.jsx)(O.OO,{className:"pt-0","data-sentry-element":"DialogSection","data-sentry-source-file":"InviteMemberButton.tsx",children:(0,l.jsx)(F.$,{block:!0,htmlType:"submit",loading:er,"data-sentry-element":"Button","data-sentry-source-file":"InviteMemberButton.tsx",children:"Send invitation"})})]})})]})]})};var K=r(87959),W=r(55866),Y=r(80125),Z=r(48153),ee=r(96457),et=r(53667),er=r.n(et),el=r(25424),ea=r(10406),en=r(42938),es=r(62763),ei=r(75547),eo=r(76733),ed=r(12050),ec=r(9847),eu=r(9953),em=r(65863),ef=r(49644),ex=r(49655);function ep(e){let t=new Date(e);return!((new Date().valueOf()-t.valueOf())/1e3/60/60<24)}var eh=r(1051),eg=r(28097),ev=r(41370);async function ej(e){let{slug:t,id:r}=e,{error:l}=await (0,I.yH)("/platform/organizations/{slug}/members/invitations/{id}",{params:{path:{slug:t,id:r}}});return l&&(0,I.H4)(l),!0}let ey=function(){let{onSuccess:e,onError:t,...r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=(0,_.jE)();return(0,S.n)(e=>ej(e),{async onSuccess(t,r,a){let{slug:n,skipInvalidation:s}=r;s||await Promise.all([l.invalidateQueries(R.O.rolesV2(n)),l.invalidateQueries(k.O.members(n))]),await (null==e?void 0:e(t,r,a))},async onError(e,r,l){void 0===t?b.oR.error("Failed to delete invitation: ".concat(e.message)):t(e,r,l)},...r})};async function eb(e){let{slug:t,gotrueId:r}=e,{data:l,error:a}=await (0,I.yH)("/platform/organizations/{slug}/members/{gotrue_id}",{params:{path:{slug:t,gotrue_id:r}}});return a&&(0,I.H4)(a),l}let ew=function(){let{onSuccess:e,onError:t,...r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=(0,_.jE)();return(0,S.n)(e=>eb(e),{async onSuccess(t,r,a){let{slug:n}=r;await Promise.all([l.invalidateQueries(k.O.members(n)),l.invalidateQueries(k.O.roles(n))]),await (null==e?void 0:e(t,r,a))},async onError(e,r,l){void 0===t?b.oR.error("Failed to remove member: ".concat(e.message)):t(e,r,l)},...r})};var eN=r(74115),e_=r(64540),eS=r(47504),eI=r(98047),ek=r(95319);let eR=()=>{var e;let t=(0,eS.useRouter)(),{slug:r}=(0,s.g)(),{profile:a}=(0,m.xc)(),i=(0,u.a)(),{organizationMembersDelete:d}=(0,c.x)(["organization_members:delete"]),[f,x]=(0,n.useState)(!1),[p,h]=(0,n.useState)(!1),[g,v]=(0,ek.U)(s.rS.LAST_VISITED_ORGANIZATION,""),{refetch:j}=(0,eI.Ad)(),{data:y}=(0,C.Q)({slug:r}),{data:w}=(0,o.KQ)({slug:r}),N=null==i?void 0:i.is_owner,_=null!=(e=null==w?void 0:w.org_scoped_roles)?e:[],S=!N||N&&X(y,_),{mutate:I}=ew({onSuccess:async()=>{x(!1),h(!1),await j(),b.oR.success("Successfully left ".concat(null==i?void 0:i.name)),v(""),t.push("/organizations")},onError:e=>{x(!1),b.oR.error("Failed to leave organization: ".concat(null==e?void 0:e.message))}}),k=async()=>r?a?void(x(!0),I({slug:r,gotrueId:a.gotrue_id})):console.error("Profile is required"):console.error("Org slug is required");return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(ev.G,{type:"default",disabled:!S||!d||f,onClick:()=>h(!0),tooltip:{content:{side:"bottom",text:S?d?void 0:"Unable to leave organization":"An organization requires at least 1 owner"}},"data-sentry-element":"ButtonTooltip","data-sentry-source-file":"LeaveTeamButton.tsx",children:"Leave team"}),(0,l.jsx)(e_.A,{size:"medium",visible:p,title:"Confirm to leave organization",confirmLabel:"Leave",variant:"warning",alert:{title:"All of your user content will be permanently removed.",description:(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{children:"Leaving the organization will delete all of your saved content in the projects of the organization, which includes:"}),(0,l.jsxs)("ul",{className:"list-disc pl-4",children:[(0,l.jsxs)("li",{children:["SQL snippets ",(0,l.jsx)("span",{className:"text-foreground",children:"(both private and shared)"})]}),(0,l.jsx)("li",{children:"Custom reports"}),(0,l.jsx)("li",{children:"Log Explorer queries"})]})]})},onCancel:()=>h(!1),onConfirm:()=>k(),"data-sentry-element":"ConfirmationModal","data-sentry-source-file":"LeaveTeamButton.tsx",children:(0,l.jsx)("p",{className:"text-sm text-foreground-light",children:"Are you sure you want to leave this organization? This is permanent."})})]})};var eA=r(84305),ez=r.n(eA),eC=r(23992),eL=r(14943),eM=r(70324),eE=r(83086);async function eO(e){let{slug:t,gotrueId:r,roleId:l,projects:a}=e,n={role_id:l};void 0!==a&&(n.role_scoped_projects=a);let{data:s,error:i}=await (0,I.F6)("/platform/organizations/{slug}/members/{gotrue_id}",{params:{path:{slug:t,gotrue_id:r}},body:n,headers:{Version:"2"}});return i&&(0,I.H4)(i),s}let eT=function(){let{onSuccess:e,onError:t,...r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=(0,_.jE)();return(0,S.n)(e=>eO(e),{async onSuccess(t,r,a){let{slug:n,skipInvalidation:s}=r;s||await Promise.all([l.invalidateQueries(R.O.rolesV2(n)),l.invalidateQueries(k.O.members(n))]),await (null==e?void 0:e(t,r,a))},async onError(e,r,l){void 0===t?b.oR.error("Failed to update member role: ".concat(e.message)):t(e,r,l)},...r})};async function eF(e){let{slug:t,gotrueId:r,roleId:l}=e,{data:a,error:n}=await (0,I.yH)("/platform/organizations/{slug}/members/{gotrue_id}/roles/{role_id}",{params:{path:{slug:t,gotrue_id:r,role_id:l}}});return n&&(0,I.H4)(n),a}let eB=function(){let{onSuccess:e,onError:t,...r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=(0,_.jE)();return(0,S.n)(e=>eF(e),{async onSuccess(t,r,a){let{slug:n,skipInvalidation:s}=r;s||await Promise.all([l.invalidateQueries(R.O.rolesV2(n)),l.invalidateQueries(k.O.members(n))]),await (null==e?void 0:e(t,r,a))},async onError(e,r,l){void 0===t?b.oR.error("Failed to unassign member role: ".concat(e.message)):t(e,r,l)},...r})};async function eD(e){let{slug:t,gotrueId:r,roleId:l,roleName:a,projects:n}=e,{data:s,error:i}=await (0,I.yJ)("/platform/organizations/{slug}/members/{gotrue_id}/roles/{role_id}",{params:{path:{slug:t,gotrue_id:r,role_id:l}},body:{name:a,role_scoped_projects:n}});return i&&(0,I.H4)(i),s}let eV=function(){let{onSuccess:e,onError:t,...r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=(0,_.jE)();return(0,S.n)(e=>eD(e),{async onSuccess(t,r,a){let{slug:n,skipInvalidation:s}=r;s||await Promise.all([l.invalidateQueries(R.O.rolesV2(n)),l.invalidateQueries(k.O.members(n))]),await (null==e?void 0:e(t,r,a))},async onError(e,r,l){void 0===t?b.oR.error("Failed to update member role: ".concat(e.message)):t(e,r,l)},...r})};var eP=r(107),eq=r.n(eP);let eQ=(e,t,r)=>{let{org_scoped_roles:l,project_scoped_roles:a}=t;return e.role_ids.map(e=>{let t=l.find(t=>t.id===e);if(void 0!==t)return{ref:void 0,roleId:t.id};let n=a.find(t=>t.id===e);if(void 0!==n){var s;return(null!=(s=null==n?void 0:n.project_ids)?s:[]).map(e=>r.find(t=>t.id===e)).map(e=>({ref:null==e?void 0:e.ref,projectId:null==e?void 0:e.id,roleId:n.id,baseRoleId:n.base_role_id}))}}).filter(Boolean).flat()},eU=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,l=[],a=[],n=[];return e.forEach(e=>{let r=t.find(t=>e.ref===t.ref);void 0===r?l.push(e):r.roleId!==e.roleId&&n.push({ref:r.ref,originalRole:e.roleId,originalBaseRole:e.baseRoleId,updatedRole:r.roleId})}),t.forEach(t=>{void 0===e.find(e=>t.ref===e.ref)&&a.push(t)}),{removed:l.map(e=>{var t;return{...e,projectId:null==(t=r.find(t=>t.ref===e.ref))?void 0:t.id}}),added:a.map(e=>{var t;return{...e,projectId:null==(t=r.find(t=>t.ref===e.ref))?void 0:t.id}}),updated:n.map(e=>{var t;return{...e,projectId:null==(t=r.find(t=>t.ref===e.ref))?void 0:t.id}})}},eG=(e,t)=>{let{removed:r,added:l,updated:a}=t,n=[],s=[],i=[],o=eq()(l,"roleId"),d=eq()(r,"roleId"),c=eq()(a,"originalRole"),u=eq()(a,"updatedRole"),m=e.filter(e=>{var t;return(null!=(t=null==e?void 0:e.project_ids)?t:[]).length>0}).map(e=>e.base_role_id);return e.forEach(e=>{var t,s,m,f,x,p,h,g;let v=e.project_ids;if(null===v)return n.push(e.id);let j=v.every(e=>{let t=r.map(e=>e.projectId).some(t=>t===e),l=a.map(e=>e.projectId).some(t=>t===e);return t||l}),y=l.some(t=>t.roleId===e.base_role_id),b=a.some(t=>t.updatedRole===e.base_role_id);if(j&&!y&&!b)return n.push(e.id);let w=null!=(x=null==(t=o[e.base_role_id])?void 0:t.map(e=>e.projectId))?x:[],N=null!=(p=null==(s=d[e.id])?void 0:s.map(e=>e.projectId))?p:[],_=null!=(h=null==(m=c[e.id])?void 0:m.map(e=>e.projectId))?h:[],S=null!=(g=null==(f=u[e.base_role_id])?void 0:f.map(e=>e.projectId))?g:[],I=v.filter(e=>!N.includes(e)).filter(e=>!_.includes(e)).concat(w).concat(S);ez()(v,I)||i.push({roleId:e.id,projectIds:I.sort((e,t)=>e-t)})}),Object.keys(o).forEach(e=>{m.includes(Number(e))||s.push({roleId:Number(e),projectIds:o[e].map(e=>e.projectId).sort((e,t)=>e-t)})}),Object.keys(u).forEach(e=>{m.includes(Number(e))||s.push({roleId:Number(e),projectIds:u[e].map(e=>e.projectId).sort((e,t)=>e-t)})}),{toRemove:n.sort((e,t)=>e-t),toAssign:s,toUpdate:i}},eH=e=>{var t;let{visible:r,member:a,projectsRoleConfiguration:i,onClose:d}=e,{slug:c}=(0,s.g)(),m=(0,_.jE)(),f=(0,u.a)(),{data:x}=(0,L.el)(),{data:p}=(0,o.KQ)({slug:null==f?void 0:f.slug}),[h,g]=(0,n.useState)(!1),{mutateAsync:v}=eT(),{mutateAsync:j}=eB({onError:()=>{}}),{mutateAsync:y}=eV(),w=null!=(t=null==p?void 0:p.org_scoped_roles)?t:[],{org_scoped_roles:N,project_scoped_roles:S}=null!=p?p:{org_scoped_roles:[],project_scoped_roles:[]},I=(null!=x?x:[]).filter(e=>e.organization_id===(null==f?void 0:f.id)),A=eU(void 0!==p?eQ(a,p,null!=x?x:[]):[],i,null!=x?x:[]),z=async()=>{if(void 0===c)return console.error("Slug is required");g(!0);let e=a.gotrue_id,t=a.role_ids.map(e=>[...N,...S].find(t=>t.id===e)).filter(Boolean);if(1===i.length&&void 0===i[0].ref)try{await v({slug:c,gotrueId:e,roleId:i[0].roleId}),b.oR.success("Successfully updated role for ".concat(a.username)),d(!0);return}catch(e){return g(!1),b.oR.error("Failed to update role: ".concat(e.message))}let{toRemove:r,toAssign:l,toUpdate:n}=eG(t,A);try{for(let{roleId:t,projectIds:r}of l)await v({slug:c,gotrueId:e,roleId:t,projects:r.map(e=>{var t;return null==x||null==(t=x.find(t=>t.id===e))?void 0:t.ref}),skipInvalidation:!0});for(let t of r)await j({slug:c,gotrueId:e,roleId:t,skipInvalidation:!0});for(let{roleId:t,projectIds:r}of n){var s;await y({slug:c,gotrueId:e,roleId:t,roleName:null==(s=S.find(e=>e.id===t))?void 0:s.name,projects:r.map(e=>{var t;return null==x||null==(t=x.find(t=>t.id===e))?void 0:t.ref}),skipInvalidation:!0})}await Promise.all([m.invalidateQueries(R.O.rolesV2(c)),m.invalidateQueries(k.O.members(c))]),b.oR.success("Successfully updated role for ".concat(a.username)),d(!0)}catch(e){return g(!1),b.oR.error("Failed to update role: ".concat(e.message))}};return(0,l.jsx)(e_.A,{size:"medium",visible:r,loading:h,title:"Confirm to change roles of member",confirmLabel:"Update roles",confirmLabelLoading:"Updating",onCancel:()=>d(),onConfirm:z,"data-sentry-element":"ConfirmationModal","data-sentry-component":"UpdateRolesConfirmationModal","data-sentry-source-file":"UpdateRolesConfirmationModal.tsx",children:(0,l.jsxs)("div",{className:"flex flex-col gap-y-3",children:[(0,l.jsxs)("p",{className:"text-sm text-foreground-light",children:["You are making the following changes to the role of"," ",(0,l.jsx)("span",{className:"text-foreground",children:a.username})," in the organization"," ",(0,l.jsx)("span",{className:"text-foreground",children:null==f?void 0:f.name}),":"]}),(0,l.jsxs)("div",{className:"flex flex-col gap-y-2",children:[0!==A.removed.length&&(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{className:"text-sm",children:["Removing ",A.removed.length," role",A.removed.length>1?"s":""," for user:"]}),(0,l.jsx)("ul",{className:"list-disc pl-6",children:A.removed.map((e,t)=>{var r,a,n;let s=null!=(r=N.find(t=>t.id===e.roleId))?r:S.find(t=>t.id===e.roleId),i=I.find(t=>t.ref===e.ref),o=(null!=(a=null==s?void 0:s.name)?a:"Unknown").split("_")[0];return(0,l.jsxs)("li",{className:"text-sm text-foreground-light",children:[(0,l.jsx)("span",{className:"text-foreground",children:o})," on"," ",(0,l.jsx)("span",{className:void 0!==i?"text-foreground":"",children:null!=(n=null==i?void 0:i.name)?n:"organization"})]},"update-".concat(t))})})]}),0!==A.added.length&&(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{className:"text-sm",children:["Adding ",A.added.length," role",A.added.length>1?"s":""," for user:"]}),(0,l.jsx)("ul",{className:"list-disc pl-6",children:A.added.map((e,t)=>{var r;let a=w.find(t=>t.id===e.roleId),n=I.find(t=>t.ref===e.ref);return(0,l.jsxs)("li",{className:"text-sm text-foreground-light",children:[(0,l.jsx)("span",{className:"text-foreground",children:null==a?void 0:a.name})," on"," ",(0,l.jsx)("span",{className:void 0!==n?"text-foreground":"",children:null!=(r=null==n?void 0:n.name)?r:"organization"})]},"update-".concat(t))})})]}),0!==A.updated.length&&(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{className:"text-sm",children:["Updating ",A.updated.length," role",A.updated.length>1?"s":""," for user:"]}),(0,l.jsx)("ul",{className:"list-disc pl-6",children:A.updated.map((e,t)=>{var r,a,n,s;let i=null!=(r=N.find(t=>t.id===e.originalRole))?r:S.find(t=>t.id===e.originalRole),o=N.find(t=>t.id===e.updatedRole),d=I.find(t=>t.ref===e.ref),c=(null!=(a=null==i?void 0:i.name)?a:"Unknown").split("_")[0];return(0,l.jsxs)("li",{className:"text-sm text-foreground-light",children:["From ",(0,l.jsx)("span",{className:"text-foreground",children:c})," to"," ",(0,l.jsx)("span",{className:"text-foreground",children:null!=(n=null==o?void 0:o.name)?n:"Unknown"})," on"," ",(0,l.jsx)("span",{className:void 0!==d?"text-foreground":"",children:null!=(s=null==d?void 0:d.name)?s:"organization"})]},"update-".concat(t))})})]})]}),(0,l.jsx)("p",{className:"text-sm text-foreground",children:"By changing the role of this member their permissions will change."})]})})},e$=e=>{var t,r,a,i;let{visible:c,member:m,onClose:f}=e,{slug:x}=(0,s.g)(),p=(0,u.a)(),h=(0,M.cC)(x),{data:g}=(0,L.el)(),{data:v}=(0,d.m)(),{data:j,isSuccess:y}=(0,o.KQ)({slug:x}),b=null!=(a=null==j?void 0:j.org_scoped_roles)?a:[],w=null!=(i=null==j?void 0:j.project_scoped_roles)?i:[],{rolesAddable:N,rolesRemovable:_}=$(null==p?void 0:p.slug,b.concat(w),null!=v?v:[]),S=b.every(e=>!N.includes(e.id)),[I,k]=(0,n.useState)(!1),[R,A]=(0,n.useState)(!1),[z,C]=(0,n.useState)([]),E=void 0!==j?eQ(m,j,null!=g?g:[]):[],O=1===E.length&&b.find(e=>e.id===E[0].roleId)?"org-scope":"project-scope",B=(null!=g?g:[]).filter(e=>e.organization_id===(null==p?void 0:p.id)),G=1===z.length&&(null==(t=z[0])?void 0:t.ref)===void 0,H=z.length>0,X=null==(r=b.find(e=>"Developer"===e.name))?void 0:r.id,J=B.filter(e=>!z.some(t=>t.ref===e.ref)),K=B.length-J.length,W=E.length!==J.length,Y=ez()(z,E),Z=e=>{C(z.concat({ref:e,roleId:null!=X?X:b[0].id})),A(!1)},ee=e=>{void 0!==e&&C(z.filter(t=>t.ref!==e))},et=(e,t)=>{void 0!==t.ref?C(z.map(r=>r.ref===t.ref?{ref:r.ref,projectId:r.projectId,roleId:Number(e)}:r)):C([{ref:void 0,roleId:Number(e)}])};return(0,n.useEffect)(()=>{c&&y&&C(eQ(m,j,null!=g?g:[]))},[c,y]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(eL.cj,{open:c,onOpenChange:()=>f(),"data-sentry-element":"Sheet","data-sentry-source-file":"UpdateRolesPanel.tsx",children:(0,l.jsx)(eL.h,{showClose:!1,size:"default",className:(0,U.cn)("bg-surface-200 p-0 flex flex-row gap-0 !min-w-[400px]"),"data-sentry-element":"SheetContent","data-sentry-source-file":"UpdateRolesPanel.tsx",children:(0,l.jsxs)("div",{className:(0,U.cn)("flex flex-col grow w-full"),children:[(0,l.jsxs)(eL.Fm,{className:(0,U.cn)("py-3 flex flex-row justify-between gap-x-4 items-center border-b"),"data-sentry-element":"SheetHeader","data-sentry-source-file":"UpdateRolesPanel.tsx",children:[(0,l.jsxs)("p",{className:"truncate",title:"Manage access for ".concat(m.username),children:["Manage access for ",m.username]}),(0,l.jsx)(eC.A,{href:"https://supabase.com/docs/guides/platform/access-control","data-sentry-element":"DocsButton","data-sentry-source-file":"UpdateRolesPanel.tsx"})]}),(0,l.jsxs)(eL.Xc,{className:"h-full overflow-auto flex flex-col gap-y-4","data-sentry-element":"SheetSection","data-sentry-source-file":"UpdateRolesPanel.tsx",children:[h&&(0,l.jsxs)("div",{className:"flex items-center gap-x-4",children:[(0,l.jsx)(D.d,{disabled:S,checked:G,onCheckedChange:e=>{let t=null!=X?X:b[0].id;e?"org-scope"===O?C(E):C([{ref:void 0,roleId:t}]):"project-scope"===O?C(E):C(B.map(e=>({ref:e.ref,projectId:e.id,roleId:t})))}}),(0,l.jsx)("p",{className:"text-sm",children:"Apply roles to all projects in the organization"})]}),0===z.length&&(0,l.jsxs)(eM.Fc,{children:[(0,l.jsx)(eE.id,{}),(0,l.jsx)(eM.XL,{children:"Team members need to be assigned at least one role"}),(0,l.jsx)(eM.TN,{children:"You may not remove all roles from a team member"})]}),!G&&z.length>0&&z.length!==B.length&&(0,l.jsxs)(eM.Fc,{children:[(0,l.jsx)(eM.XL,{children:W?"This member will only have access to ".concat(K," project").concat(K>1?"s":""):"This member only has access to ".concat(K," project").concat(K>1?"s":"")}),(0,l.jsxs)(eM.TN,{children:[m.username," ",W?"will":"does"," not have access to the following ",J.length," project",J.length>1?"s":"",":",(0,l.jsx)("ul",{className:"list-disc pl-6",children:J.map(e=>(0,l.jsx)("li",{children:e.name},e.id))})]})]}),(0,l.jsx)("div",{className:"flex flex-col gap-y-2",children:z.sort((e,t)=>{var r,l;return(null!=(r=null==e?void 0:e.projectId)?r:0)-(null!=(l=null==t?void 0:t.projectId)?l:0)}).map(e=>{var t,r,a,n,s;let i=void 0===e.ref?"All projects":null==g||null==(t=g.find(t=>t.ref===e.ref))?void 0:t.name,o=b.find(t=>void 0!==e.baseRoleId?t.id===e.baseRoleId:t.id===e.roleId),d=_.includes(null!=(r=null==o?void 0:o.id)?r:0);return(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("p",{className:"text-sm",children:i}),(0,l.jsxs)("div",{className:"flex items-center gap-x-2",children:[S?(0,l.jsxs)(T.m_,{children:[(0,l.jsx)(T.k$,{asChild:!0,children:(0,l.jsx)("div",{className:"flex items-center justify-between rounded-md border border-button bg-button px-3 py-2 text-sm h-10 w-56 text-foreground-light",children:null!=(a=null==o?void 0:o.name)?a:"Unknown"})}),(0,l.jsx)(T.ZI,{side:"bottom",children:"Additional permissions required to update role"})]}):(0,l.jsxs)(V.l6,{value:(null!=(n=null==e?void 0:e.baseRoleId)?n:e.roleId).toString(),onValueChange:t=>et(t,e),children:[(0,l.jsx)(V.bq,{className:(0,U.cn)("text-sm h-10 w-56",(null==o?void 0:o.name)===void 0&&"text-foreground-light"),children:null!=(s=null==o?void 0:o.name)?s:"Please select a role"}),(0,l.jsx)(V.gC,{children:(0,l.jsx)(V.s3,{children:(null!=b?b:[]).map(e=>{let t=N.includes(e.id);return(0,l.jsx)(V.eb,{value:e.id.toString(),className:"text-sm hover:bg-selection cursor-pointer",disabled:!t,children:e.name},e.id)})})})]}),!G&&(0,l.jsx)(ev.G,{type:"text",disabled:!d,className:"px-1",icon:(0,l.jsx)(es.A,{}),onClick:()=>ee(null==e?void 0:e.ref),tooltip:{content:{side:"bottom",text:d?"Remove access to project":"Additional permission required to remove role from member"}}})]})]},"".concat(e.ref,"-").concat(e.roleId))})}),!G&&(0,l.jsxs)(P.AM,{open:R,onOpenChange:A,modal:!1,children:[(0,l.jsx)(P.Wv,{asChild:!0,children:(0,l.jsx)(F.$,{type:"default",className:"w-min",children:"Add project"})}),(0,l.jsx)(P.hl,{className:"p-0",side:"bottom",align:"start",children:(0,l.jsxs)(q.uB,{children:[(0,l.jsx)(q.G7,{placeholder:"Find project..."}),(0,l.jsxs)(q.oI,{children:[(0,l.jsx)(q.xL,{children:"No projects found"}),(0,l.jsx)(q.L$,{children:(0,l.jsx)(Q.FK,{className:(g||[]).length>7?"h-[210px]":"",children:B.map(e=>{let t=z.some(t=>t.ref===e.ref);return(0,l.jsxs)(q.h_,{disabled:t,className:"cursor-pointer w-full justify-between",onSelect:()=>Z(e.ref),onClick:()=>Z(e.ref),children:[(0,l.jsx)("p",{className:"truncate",children:e.name}),t&&(0,l.jsx)("p",{className:"w-[45%] text-right",children:"Already assigned"})]},e.ref)})})})]})]})})]})]}),(0,l.jsxs)(eL.XW,{className:"flex items-center !justify-end px-5 py-4 w-full border-t","data-sentry-element":"SheetFooter","data-sentry-source-file":"UpdateRolesPanel.tsx",children:[(0,l.jsx)(F.$,{type:"default",disabled:!1,onClick:()=>f(),"data-sentry-element":"Button","data-sentry-source-file":"UpdateRolesPanel.tsx",children:"Cancel"}),(0,l.jsx)(F.$,{loading:!1,disabled:!H||Y,onClick:()=>{k(!0)},"data-sentry-element":"Button","data-sentry-source-file":"UpdateRolesPanel.tsx",children:"Save roles"})]})]})})}),(0,l.jsx)(eH,{visible:I,member:m,projectsRoleConfiguration:z,onClose:e=>{k(!1),e&&f()},"data-sentry-element":"UpdateRolesConfirmationModal","data-sentry-source-file":"UpdateRolesPanel.tsx"})]})},eX=e=>{var t,r,a,i,f,x;let{member:h}=e,{slug:g}=(0,s.g)(),{profile:v}=(0,m.xc)(),[j,y]=(0,n.useState)(!1),[w,N]=(0,n.useState)(!1),_=(0,c.x)("organization_members:delete"),S=(0,u.a)(),{data:I}=(0,d.m)(),{data:k}=(0,L.el)(),{data:R}=(0,C.Q)({slug:g}),{data:A}=(0,o.KQ)({slug:g}),M=h.gotrue_id==(null==v?void 0:v.gotrue_id),O=null==S?void 0:S.is_owner,T=null!=(r=null==A?void 0:A.org_scoped_roles)?r:[];!O||O&&X(R,T);let B=null!=(a=null==A?void 0:A.org_scoped_roles)?a:[],D=null!=(i=null==A?void 0:A.project_scoped_roles)?i:[],V=!!h.invited_id,P=null==R?void 0:R.find(e=>e.gotrue_id===(null==v?void 0:v.gotrue_id)),q=1===(null!=(f=null==P?void 0:P.role_ids)?f:[]).length&&B.some(e=>e.id===(null==P?void 0:P.role_ids[0])),{rolesRemovable:Q}=$(null==S?void 0:S.slug,B.concat(D),null!=I?I:[]),U=null!=(x=null==(t=h.role_ids)?void 0:t[0])?x:-1,G=h.role_ids.every(e=>Q.includes(e)),H=(0,E.SE)(p.aG.CREATE,"user_invites",{resource:{role_id:U}})&&q,J=(0,E.SE)(p.aG.DELETE,"user_invites",{resource:{role_id:U}})&&q,{mutate:K,isLoading:W}=ew({onSuccess:()=>{b.oR.success("Successfully removed ".concat(h.primary_email)),N(!1)}}),{mutate:Y,isLoading:Z}=z({onSuccess:()=>{b.oR.success("Resent the invitation.")},onError:e=>{b.oR.error("Failed to resend invitation: ".concat(e.message))}}),{mutate:ee,isLoading:et}=ey(),er=W||et||Z,el=()=>g?h.gotrue_id?void K({slug:g,gotrueId:h.gotrue_id}):console.error("gotrue_id is required"):console.error("slug is required"),ea=e=>{var t;let r=(null!=(t=null==e?void 0:e.role_ids)?t:[])[0],l=e.invited_id;return g?l?void ee({slug:g,id:l,skipInvalidation:!0},{onSuccess:()=>{if(!e.primary_email)return b.oR.error("Email is required");let t=D.find(e=>e.id===r);if(void 0!==t){var l;let r=(null!=(l=null==t?void 0:t.project_ids)?l:[]).map(e=>{var t;return null==k||null==(t=k.find(t=>t.id===e))?void 0:t.ref}).filter(Boolean);Y({slug:g,email:e.primary_email,roleId:t.base_role_id,projects:r})}else Y({slug:g,email:e.primary_email,roleId:r})}}):console.error("Member invited ID is required"):console.error("Slug is required")},en=e=>{let t=e.invited_id;return g?t?void ee({slug:g,id:t},{onSuccess:()=>b.oR.success("Successfully revoked the invitation.")}):console.error("Member invited ID is required"):console.error("Slug is required")};return G&&(!V||H||J)?M?(0,l.jsx)("div",{className:"flex items-center justify-end",children:(0,l.jsx)(eR,{})}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"flex items-center justify-end gap-x-2",children:[(0,l.jsx)(ev.G,{type:"default",disabled:V||!G,onClick:()=>y(!0),tooltip:{content:{side:"bottom",text:V?"Role can only be changed after the user has accepted the invite":G?void 0:"You need additional permissions to manage this team member"}},"data-sentry-element":"ButtonTooltip","data-sentry-source-file":"MemberActions.tsx",children:"Manage access"}),(0,l.jsxs)(eN.rI,{"data-sentry-element":"DropdownMenu","data-sentry-source-file":"MemberActions.tsx",children:[(0,l.jsx)(eN.ty,{asChild:!0,"data-sentry-element":"DropdownMenuTrigger","data-sentry-source-file":"MemberActions.tsx",children:(0,l.jsx)(F.$,{type:"text",className:"px-1.5",disabled:er,loading:er,icon:(0,l.jsx)(eh.A,{}),"data-sentry-element":"Button","data-sentry-source-file":"MemberActions.tsx"})}),(0,l.jsx)(eN.SQ,{side:"bottom",align:"end",className:"w-52","data-sentry-element":"DropdownMenuContent","data-sentry-source-file":"MemberActions.tsx",children:(0,l.jsx)(l.Fragment,{children:V?(0,l.jsxs)(l.Fragment,{children:[J&&(0,l.jsx)(eN._2,{onClick:()=>en(h),children:(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("p",{children:"Cancel invitation"}),(0,l.jsx)("p",{className:"text-foreground-lighter",children:"Revoke this invitation."})]})}),H&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(eN.mB,{}),(0,l.jsx)(eN._2,{onClick:()=>ea(h),children:(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("p",{children:"Resend invitation"}),(0,l.jsx)("p",{className:"text-foreground-lighter",children:"Invites expire after 24hrs."})]})})]})]}):_&&(0,l.jsxs)(eN._2,{className:"space-x-2 items-start",disabled:!G,onClick:()=>{N(!0)},children:[(0,l.jsx)(eg.A,{size:16}),(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("p",{children:"Remove member"}),!G&&(0,l.jsx)("p",{className:"text-foreground-lighter",children:"Additional permissions required"})]})]})})})]})]}),(0,l.jsx)(e_.A,{size:"large",visible:w,loading:W,title:"Confirm to remove member",confirmLabel:"Remove",variant:"warning",alert:{title:"All user content from this member will be permanently removed.",description:(0,l.jsxs)("div",{children:["Removing a member will delete all of the user's saved content in all projects of this organization, which includes:",(0,l.jsxs)("ul",{className:"list-disc pl-4 my-2",children:[(0,l.jsxs)("li",{children:["SQL snippets"," ",(0,l.jsxs)("span",{className:"text-foreground",children:["(both ",(0,l.jsx)("span",{className:"underline",children:"private"})," and"," ",(0,l.jsx)("span",{className:"underline",children:"shared"})," snippets)"]})]}),(0,l.jsx)("li",{children:"Custom reports"}),(0,l.jsx)("li",{children:"Log Explorer queries"})]}),(0,l.jsx)("p",{className:"mt-4 text-foreground-lighter",children:"If you'd like to retain the member's shared SQL snippets, right click on them and \"Duplicate query\" in the SQL Editor before removing this member."})]})},onCancel:()=>N(!1),onConfirm:()=>{el()},"data-sentry-element":"ConfirmationModal","data-sentry-source-file":"MemberActions.tsx",children:(0,l.jsxs)("p",{className:"text-sm text-foreground-light",children:["Are you sure you want to remove"," ",(0,l.jsx)("span",{className:"text-foreground",children:h.primary_email})," from"," ",(0,l.jsx)("span",{className:"text-foreground",children:null==S?void 0:S.name}),"?"]})}),(0,l.jsx)(e$,{visible:j,member:h,onClose:()=>y(!1),"data-sentry-element":"UpdateRolesPanel","data-sentry-source-file":"MemberActions.tsx"})]}):(0,l.jsx)("div",{className:"flex items-center justify-end",children:(0,l.jsx)(ev.G,{disabled:!0,type:"text",className:"px-1.5",icon:(0,l.jsx)(eh.A,{size:18}),tooltip:{content:{side:"bottom",text:"You need additional permissions to manage this team member"}}})})},eJ={vercel:"vercel-marketplace"},eK=e=>{var t,r,a,n,s,i;let{member:d}=e,{profile:c}=(0,m.xc)(),f=(0,u.a)(),{data:x}=(0,L.el)(),{data:p,isLoading:h}=(0,o.KQ)({slug:null==f?void 0:f.slug}),v=null==x?void 0:x.filter(e=>e.organization_id===(null==f?void 0:f.id)),y=(null!=(a=null==p?void 0:p.project_scoped_roles)?a:[]).length>0,b=!!d.invited_id,w=d.username===d.primary_email,N=!!(null==(t=d.primary_email)?void 0:t.endsWith("customer.fly.io")),_=b||w||N?void 0:(0,eu.By)(d.username),S=d.role_ids.filter(e=>{var t,r,l;let a=[...null!=(t=null==p?void 0:p.org_scoped_roles)?t:[],...null!=(r=null==p?void 0:p.project_scoped_roles)?r:[]].find(t=>t.id===e);return(null==a?void 0:a.project_ids)!==null&&0===(null!=(l=null==a?void 0:a.project_ids)?l:[]).map(e=>{var t,r;return null!=(r=null==x||null==(t=x.find(t=>t.id===e))?void 0:t.name)?r:""}).filter(e=>e.length>0).length}).length>0;return(0,l.jsxs)(Y.A.tr,{"data-sentry-element":"unknown","data-sentry-component":"MemberRow","data-sentry-source-file":"MemberRow.tsx",children:[(0,l.jsx)(Y.A.td,{"data-sentry-element":"unknown","data-sentry-source-file":"MemberRow.tsx",children:(0,l.jsxs)("div",{className:"flex items-center gap-x-4",children:[(0,l.jsx)(ec.p,{alt:null!=(s=null!=(n=d.primary_email)?n:d.username)?s:"",src:_,className:"border rounded-full w-[32px] h-[32px] md:w-[40px] md:h-[40px]",placeholder:(0,l.jsx)("div",{className:(0,U.cn)("w-[32px] h-[32px] md:w-[40px] md:h-[40px]","bg-surface-100 border border-overlay rounded-full text-foreground-lighter flex items-center justify-center"),children:(0,l.jsx)(en.A,{size:20,strokeWidth:1.5})}),"data-sentry-element":"ProfileImage","data-sentry-source-file":"MemberRow.tsx"}),(0,l.jsxs)("div",{className:"flex item-center gap-x-2",children:[(0,l.jsx)("p",{className:"text-foreground-light truncate",children:d.primary_email}),d.primary_email===(null==c?void 0:c.primary_email)&&(0,l.jsx)(em.E,{color:"scale",children:"You"})]}),(null==(r=d.metadata)?void 0:r.origin)&&(0,l.jsx)(ed.A,{organization:{managed_by:null!=(i=eJ[d.metadata.origin])?i:"supabase"},tooltipText:"This user is managed by Vercel Marketplace."})]})}),(0,l.jsxs)(Y.A.td,{"data-sentry-element":"unknown","data-sentry-source-file":"MemberRow.tsx",children:[b&&d.invited_at&&(0,l.jsx)(em.E,{variant:ep(d.invited_at)?"destructive":"warning",children:ep(d.invited_at)?"Expired":"Invited"}),d.is_sso_user&&(0,l.jsx)(em.E,{variant:"default",children:"SSO"})]}),(0,l.jsx)(Y.A.td,{"data-sentry-element":"unknown","data-sentry-source-file":"MemberRow.tsx",children:(0,l.jsx)("div",{className:"flex items-center justify-center",children:d.mfa_enabled?(0,l.jsx)(g.A,{className:"text-brand",strokeWidth:2,size:20}):(0,l.jsx)(es.A,{className:"text-foreground-light",strokeWidth:1.5,size:20})})}),(0,l.jsx)(Y.A.td,{className:"max-w-64","data-sentry-element":"unknown","data-sentry-source-file":"MemberRow.tsx",children:h?(0,l.jsx)(ex.A,{className:"w-32"}):S?(0,l.jsx)(ei.A,{strokeWidth:1.5,size:20}):d.role_ids.map(e=>{var t,r,a,n,s;let i=(null!=(t=null==p?void 0:p.org_scoped_roles)?t:[]).find(t=>t.id===e),o=(null!=(r=null==p?void 0:p.project_scoped_roles)?r:[]).find(t=>t.id===e),d=i||o,c=(null!=(a=null==d?void 0:d.name)?a:"").split("_")[0],u=(null==d?void 0:d.project_ids)===null?null!=(n=null==v?void 0:v.map(e=>e.name))?n:[]:(null!=(s=null==d?void 0:d.project_ids)?s:[]).map(e=>{var t,r;return null!=(r=null==v||null==(t=v.find(t=>t.id===e))?void 0:t.name)?r:""}).filter(e=>e.length>0);return(0,l.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,l.jsx)("p",{children:c}),y&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{children:""}),1===u.length?(0,l.jsx)("span",{className:"text-foreground truncate",title:u[0],children:u[0]}):(0,l.jsxs)(ef.jc,{openDelay:200,children:[(0,l.jsx)(ef.d0,{asChild:!0,children:(0,l.jsx)("span",{className:"text-foreground",children:(null==d?void 0:d.project_ids)===null?"Organization":"".concat(u.length," project").concat(u.length>1?"s":"")})}),(0,l.jsxs)(ef.Et,{className:"p-0",children:[(0,l.jsxs)("p",{className:"p-2 text-xs",children:[c," role applies to ",u.length," project",u.length>1?"s":""]}),(0,l.jsx)("div",{className:"border-t flex flex-col py-1",children:(0,l.jsx)(Q.FK,{className:(0,U.cn)(u.length>5?"h-[130px]":""),children:u.map(e=>{var t;let r=null==v||null==(t=v.find(t=>t.name===e))?void 0:t.ref;return(0,l.jsxs)(j(),{href:"/project/".concat(r),className:"px-2 py-1 group hover:bg-surface-300 hover:text-foreground transition flex items-center justify-between",children:[(0,l.jsx)("span",{className:"text-xs truncate max-w-[60%]",children:e}),(0,l.jsxs)("span",{className:"text-xs text-foreground flex items-center gap-x-1 opacity-0 group-hover:opacity-100 transition",children:["Go to project",(0,l.jsx)(eo.A,{size:14})]})]},e)})})})]})]})]})]},"role-".concat(e))})}),(0,l.jsx)(Y.A.td,{"data-sentry-element":"unknown","data-sentry-source-file":"MemberRow.tsx",children:(0,l.jsx)(eX,{member:d,"data-sentry-element":"MemberActions","data-sentry-source-file":"MemberRow.tsx"})})]})},eW=e=>{var t,r,a;let{searchString:i}=e,{slug:d}=(0,s.g)(),{profile:c}=(0,m.xc)(),{data:u=[],error:f,isLoading:x,isError:p,isSuccess:h}=(0,C.Q)({slug:d}),{data:g,error:v,isSuccess:j,isError:y}=(0,o.KQ)({slug:d}),b=(0,n.useMemo)(()=>i?u.filter(e=>{var t,r;return e.invited_at?null==(t=e.primary_email)?void 0:t.includes(i):e.gotrue_id?e.username.includes(i)||(null==(r=e.primary_email)?void 0:r.includes(i)):void 0}):u,[u,i]),[[w],N]=er()(b,e=>e.primary_email===(null==c?void 0:c.primary_email)),_=N.sort((e,t)=>{var r,l;return(null!=(r=e.primary_email)?r:"").localeCompare(null!=(l=t.primary_email)?l:"")}),S=u.find(e=>e.primary_email===(null==c?void 0:c.primary_email)),I=(null!=(r=null==g?void 0:g.org_scoped_roles)?r:[]).map(e=>e.id).includes(null!=(a=null==S||null==(t=S.role_ids)?void 0:t[0])?a:-1);return(0,l.jsxs)(l.Fragment,{children:[x&&(0,l.jsx)(ee.y,{}),p&&(0,l.jsx)(Z.A,{error:f,subject:"Failed to retrieve organization members"}),y&&(0,l.jsx)(Z.A,{error:v,subject:"Failed to retrieve organization roles"}),h&&(0,l.jsx)("div",{className:"rounded w-full overflow-hidden overflow-x-scroll",children:(0,l.jsx)(el.A,{active:!b,children:(0,l.jsx)(Y.A,{head:[(0,l.jsx)(Y.A.th,{children:"User"},"header-user"),(0,l.jsx)(Y.A.th,{className:"w-24"},"header-status"),(0,l.jsx)(Y.A.th,{className:"text-center w-32",children:"Enabled MFA"},"header-mfa"),(0,l.jsxs)(Y.A.th,{className:"flex items-center space-x-1",children:[(0,l.jsx)("span",{children:"Role"}),(0,l.jsxs)(T.m_,{children:[(0,l.jsx)(T.k$,{asChild:!0,children:(0,l.jsx)(F.$,{asChild:!0,type:"text",className:"px-1",children:(0,l.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://supabase.com/docs/guides/platform/access-control",children:(0,l.jsx)(K.A,{size:14,className:"text-foreground-light"})})})}),(0,l.jsx)(T.ZI,{side:"bottom",children:"How to configure access control?"})]})]},"header-role"),(0,l.jsx)(Y.A.th,{},"header-action")],body:[...j&&h&&!I?[(0,l.jsx)(Y.A.tr,{children:(0,l.jsx)(Y.A.td,{colSpan:12,className:"!p-0",children:(0,l.jsx)(ea.Z,{type:"note",title:"You are currently assigned with project scoped roles in this organization",description:"All the members within the organization will not be visible to you",className:"m-0 bg-alternative border-0 rounded-none"})})},"project-scope-notice")]:[],...w?[(0,l.jsx)(eK,{member:w},w.gotrue_id)]:[],..._.map(e=>(0,l.jsx)(eK,{member:e},e.gotrue_id)),...i.length>0&&0===b.length?[(0,l.jsx)(Y.A.tr,{className:"bg-panel-secondary-light",children:(0,l.jsx)(Y.A.td,{colSpan:12,children:(0,l.jsxs)("div",{className:"flex items-center space-x-3 opacity-75",children:[(0,l.jsx)(W.A,{size:16,strokeWidth:2}),(0,l.jsxs)("p",{className:"text-foreground-light",children:['No users matched the search query "',i,'"']})]})})},"no-results")]:[],(0,l.jsx)(Y.A.tr,{className:"bg-panel-secondary-light",children:(0,l.jsx)(Y.A.td,{colSpan:12,children:(0,l.jsxs)("p",{className:"text-foreground-light",children:[i?"".concat(b.length," of "):"",u.length||"0"," ",1==u.length?"user":"users"]})})},"footer")]})})})]})},eY=()=>{var e;let{organizationMembersCreate:t}=(0,c.x)(["organization_members:create"]),{slug:r}=(0,s.g)(),{profile:x}=(0,m.xc)(),p=(0,u.a)(),{data:h}=(0,d.m)(),{data:g}=(0,o.KQ)({slug:r}),v=null!=(e=null==g?void 0:g.org_scoped_roles)?e:[],{rolesAddable:j}=$(null==p?void 0:p.slug,v,null!=h?h:[]),[y,b]=(0,n.useState)(""),w=j.length>0;return(0,l.jsxs)(i.Vw,{"data-sentry-element":"ScaffoldContainerLegacy","data-sentry-component":"TeamSettings","data-sentry-source-file":"TeamSettings.tsx",children:[(0,l.jsx)(i.Dm,{"data-sentry-element":"ScaffoldTitle","data-sentry-source-file":"TeamSettings.tsx",children:"Team"}),(0,l.jsxs)(i.tn,{"data-sentry-element":"ScaffoldFilterAndContent","data-sentry-source-file":"TeamSettings.tsx",children:[(0,l.jsxs)(i.HJ,{className:"w-full flex-col md:flex-row gap-2 justify-between","data-sentry-element":"ScaffoldActionsContainer","data-sentry-source-file":"TeamSettings.tsx",children:[(0,l.jsx)(f.p,{size:"tiny",autoComplete:"off",icon:(0,l.jsx)(a.A,{size:12}),value:y,onChange:e=>b(e.target.value),name:"email",id:"email",placeholder:"Filter members","data-sentry-element":"Input","data-sentry-source-file":"TeamSettings.tsx"}),(0,l.jsx)(i.fh,{className:"w-full md:w-auto","data-sentry-element":"ScaffoldActionsGroup","data-sentry-source-file":"TeamSettings.tsx",children:t&&w&&void 0!==x&&void 0!==p&&(0,l.jsx)(J,{})})]}),(0,l.jsx)(i.Rf,{className:"w-full","data-sentry-element":"ScaffoldSectionContent","data-sentry-source-file":"TeamSettings.tsx",children:(0,l.jsx)(eW,{searchString:y,"data-sentry-element":"MembersView","data-sentry-source-file":"TeamSettings.tsx"})})]})]})};var eZ=r(1053),e0=r(93931),e1=r(99187),e2=r(81794);let e4=()=>{let{isLoading:e}=(0,d.m)();return void 0===(0,u.a)()&&e?(0,l.jsx)(e2.A,{"data-sentry-element":"Loading","data-sentry-component":"OrgTeamSettings","data-sentry-source-file":"team.tsx"}):(0,l.jsx)(eY,{"data-sentry-element":"TeamSettings","data-sentry-component":"OrgTeamSettings","data-sentry-source-file":"team.tsx"})};e4.getLayout=e=>(0,l.jsx)(eZ.A,{children:(0,l.jsx)(e0.A,{children:(0,l.jsx)(e1.A,{children:e})})});let e3=e4},66352:(e,t,r)=>{"use strict";r.d(t,{A:()=>c,N:()=>d});var l=r(80263),a=r(77877),n=r(33408),s=r(70324),i=r(71126),o=r(12050);let d={"vercel-marketplace":"Vercel Marketplace","aws-marketplace":"AWS Marketplace"},c=function(e){var t,r;let{partner:c,resource:u,cta:m}=e,f=void 0!==m,{data:x,isLoading:p,isError:h}=(0,n.X)({installationId:null==m?void 0:m.installationId},{enabled:f}),g=(null!=(t=null==x?void 0:x.url)?t:"")+(null!=(r=null==m?void 0:m.path)?r:"");return(0,l.jsxs)(s.Fc,{className:"flex flex-col items-center gap-y-2 border-0 rounded-none","data-sentry-element":"Alert_Shadcn_","data-sentry-component":"PartnerManagedResource","data-sentry-source-file":"PartnerManagedResource.tsx",children:[(0,l.jsx)(o.A,{organization:{managed_by:c},showTooltip:!1,size:"large","data-sentry-element":"PartnerIcon","data-sentry-source-file":"PartnerManagedResource.tsx"}),(0,l.jsxs)(s.XL,{className:"text-sm","data-sentry-element":"AlertTitle_Shadcn_","data-sentry-source-file":"PartnerManagedResource.tsx",children:[u," are managed by ",d[c],"."]}),f&&(0,l.jsx)(i.$,{asChild:!0,type:"default",iconRight:(0,l.jsx)(a.A,{}),disabled:p||h,children:(0,l.jsx)("a",{href:g,target:"_blank",rel:"noopener noreferrer",children:m.message||"View ".concat(u," on ").concat(d[c])})})]})}},72256:(e,t,r)=>{"use strict";r.d(t,{A:()=>m});var l=r(80263),a=r(41226),n=r(52700),s=r(77877),i=r(59153),o=r.n(i),d=r(53239),c=r(71126);let u=(0,d.forwardRef)((e,t)=>{let{icon:r,title:i,description:u,url:m,urlLabel:f="Read more",defaultVisibility:x=!1,hideCollapse:p=!1,button:h,className:g="",block:v=!1}=e,[j,y]=(0,d.useState)(x);return(0,l.jsx)("div",{ref:t,role:"alert",className:"".concat(v?"block w-full":"","\n      block w-full rounded-md border bg-surface-300/25 py-3 ").concat(g),children:(0,l.jsxs)("div",{className:"flex flex-col px-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex w-full space-x-3 items-center",children:[r&&(0,l.jsx)("span",{className:"text-foreground-lighter",children:r}),(0,l.jsx)("div",{className:"flex-grow",children:(0,l.jsx)("h5",{className:"text-sm text-foreground",children:i})})]}),u&&!p?(0,l.jsx)("div",{className:"cursor-pointer text-foreground-lighter",onClick:()=>y(!j),children:j?(0,l.jsx)(a.A,{size:14,strokeWidth:1.5}):(0,l.jsx)(n.A,{size:14,strokeWidth:1.5})}):null]}),(u||m||h)&&(0,l.jsxs)("div",{className:"flex flex-col space-y-3 overflow-hidden transition-all ".concat(j?"mt-3":""),style:{maxHeight:500*!!j},children:[(0,l.jsx)("div",{className:"text-foreground-light text-sm",children:u}),m&&(0,l.jsx)("div",{children:(0,l.jsx)(c.$,{asChild:!0,type:"default",icon:(0,l.jsx)(s.A,{}),children:(0,l.jsx)(o(),{href:m,target:"_blank",rel:"noreferrer",children:f})})}),h&&(0,l.jsx)("div",{children:h})]})]})})});u.displayName="InformationBox";let m=u},75547:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});let l=(0,r(23983).A)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])},76733:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});let l=(0,r(23983).A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},80125:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var l=r(80263);function a(e){let{body:t,head:r,className:a,containerClassName:n,borderless:s,headTrClasses:i,bodyClassName:o,style:d}=e,c=["table-container"];n&&c.push(n),s&&c.push("table-container--borderless");let u=["table"];return a&&u.push(a),(0,l.jsx)("div",{className:c.join(" "),"data-sentry-component":"Table","data-sentry-source-file":"Table.tsx",children:(0,l.jsxs)("table",{className:u.join(" "),style:d,children:[(0,l.jsx)("thead",{children:(0,l.jsx)("tr",{className:i,children:r})}),(0,l.jsx)("tbody",{className:o,children:t})]})})}a.th=e=>{let{children:t,className:r,style:a}=e,n=["p-3 px-4 text-left"];return r&&n.push(r),(0,l.jsx)("th",{className:n.join(" "),style:a,"data-sentry-component":"Th","data-sentry-source-file":"Table.tsx",children:t})},a.td=e=>{let{children:t,colSpan:r,className:a,style:n,...s}=e;return(0,l.jsx)("td",{className:a,colSpan:r,style:n,...s,"data-sentry-component":"Td","data-sentry-source-file":"Table.tsx",children:t})},a.tr=e=>{let{children:t,className:r,onClick:a,style:n,hoverable:s}=e,i=[r];return(a||s)&&i.push("tr--link"),(0,l.jsx)("tr",{className:i.join(" "),onClick:a,style:n,"data-sentry-component":"Tr","data-sentry-source-file":"Table.tsx",children:t})};let n=a},81794:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var l=r(80263),a=r(89528),n=r.n(a);let s=()=>(0,l.jsx)("div",{className:"w-full h-full flex flex-col items-center justify-center","data-sentry-component":"LogoLoader","data-sentry-source-file":"LogoLoader.tsx",children:(0,l.jsx)("div",{children:(0,l.jsx)("svg",{width:"60",height:"62",viewBox:"0 0 60 62",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:n().loading,"data-sentry-element":"svg","data-sentry-source-file":"LogoLoader.tsx",children:(0,l.jsx)("path",{d:"M30.2571 4.12811L30.257 4.12389C30.2133 1.21067 26.5349 -0.034778 24.7224 2.24311L1.76109 31.0996C-1.21104 34.8348 1.45637 40.34 6.23131 40.34H29.4845L29.7563 58.4432C29.8 61.3564 33.4783 62.6016 35.2908 60.324L34.8996 60.0127L35.2908 60.324L58.2521 31.4674C61.2241 27.7322 58.5568 22.227 53.782 22.227H30.3762L30.2571 4.12811Z",stroke:"hsl(var(--brand-default))",strokeWidth:2,strokeLinecap:"round","data-sentry-element":"path","data-sentry-source-file":"LogoLoader.tsx"})})})})},84377:(e,t,r)=>{"use strict";r.d(t,{M:()=>b});var l=r(80263),a=r(53239),n=r(57980),s=r(79279),i=r(37055),o=r(51859),d=r(97380),c=r(21514);let u=(0,s.F)("relative grid gap-10",{variants:{size:{tiny:"text-xs",small:"text-sm leading-4",medium:"text-sm",large:"text-base",xlarge:"text-base"},align:{left:"",right:""},responsive:{true:"",false:""},layout:{horizontal:"flex flex-col gap-2 md:grid md:grid-cols-12",vertical:"flex flex-col gap-2",flex:"flex flex-row gap-3","flex-row-reverse":"flex flex-row gap-6 flex-row-reverse justify-between"},flex:{true:"",false:""}},compoundVariants:[{layout:"flex",align:"right",className:"justify-between"},{layout:"flex-row-reverse",align:"right",className:"justify-between"}],defaultVariants:{}}),m=(0,s.F)("transition-all duration-500 ease-in-out",{variants:{flex:{true:"",false:""},align:{left:"",right:""},layout:{horizontal:"flex flex-col gap-2 col-span-4",vertical:"flex flex-row gap-2 justify-between",flex:"flex flex-col gap-0","flex-row-reverse":"flex flex-col"},labelLayout:{horizontal:"",vertical:"","":""}},compoundVariants:[{flex:!0,align:"left",className:"order-2"},{flex:!0,align:"right",className:"order-1"},{layout:["vertical","flex"],labelLayout:void 0,flex:!1,className:"flex flex-row gap-2 justify-between"},{layout:"horizontal",className:"flex flex-col gap-2"}],defaultVariants:{}}),f=(0,s.F)("transition-all duration-500 ease-in-out",{variants:{flex:{true:"",false:""},align:{left:"order-1",right:"order-2"},layout:{horizontal:"",vertical:"",flex:"","flex-row-reverse":""}},compoundVariants:[{flex:!0,align:"left",className:"order-1"},{flex:!0,align:"right",className:"order-2"},{layout:["vertical","flex"],className:"col-span-12"},{layout:"horizontal",align:"left",className:"col-span-8"},{layout:"horizontal",align:"right",className:"text-right"}],defaultVariants:{}}),x=(0,s.F)("text-foreground-lighter leading-normal",{variants:{size:{...c.SK.text},layout:{vertical:"mt-2",horizontal:"mt-2",flex:"","flex-row-reverse":""}},defaultVariants:{}}),p=(0,s.F)("text-foreground-muted",{variants:{size:{...c.SK.text}},defaultVariants:{}}),h=(0,s.F)("text-foreground-muted",{variants:{size:{...c.SK.text}},defaultVariants:{}}),g=(0,s.F)("text-foreground-muted",{variants:{size:{...c.SK.text}},defaultVariants:{}}),v=(0,s.F)("",{variants:{flex:{true:"",false:""},align:{left:"",right:""},layout:{horizontal:"",vertical:"",flex:"","flex-row-reverse":""}},compoundVariants:[{flex:!0,align:"left",className:""},{flex:!0,align:"right",className:"order-last"},{layout:"flex-row-reverse",className:"flex flex-col justify-center items-end shrink-0"}]}),j=(0,s.F)("",{variants:{nonBoxInput:{true:"",false:""},label:{true:"",false:""},layout:{vertical:"",horizontal:"","flex-row-reverse":""}},compoundVariants:[{nonBoxInput:!0,label:!0,layout:"vertical",className:"my-3"},{nonBoxInput:!0,label:!0,layout:"horizontal",className:"my-3 md:mt-0 mb-3"}],defaultVariants:{}}),y=a.forwardRef((e,t)=>{let{align:r="left",className:a,description:s,id:c,label:y,labelOptional:b,layout:w="vertical",style:N,labelLayout:_,size:S="medium",beforeLabel:I,afterLabel:k,nonBoxInput:R=!y,hideMessage:A=!1,isReactForm:z,...C}=e,L="flex"===w||"flex-row-reverse"===w,M=!!(y||I||k),E=z&&!A&&(0,l.jsx)(i.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3,ease:"easeInOut"},className:(0,o.cn)("flex-row-reverse"===w?"mt-0":"mt-2"),children:(0,l.jsx)(n.C5,{className:(0,o.cn)("mt-2 transition-opacity duration-300 ease-in-out","flex-row-reverse"===w&&"mt-0"),"data-formlayout-id":"message"})}),O=s&&z?(0,l.jsx)(n.Rr,{className:(0,o.cn)(x({size:S,layout:w})),"data-formlayout-id":"description",id:"".concat(c,"-description"),children:s}):s?(0,l.jsx)("p",{className:(0,o.cn)(x({size:S,layout:w}),"text-sm text-foreground-light"),"data-formlayout-id":"description",children:s}):null,T=()=>(0,l.jsxs)(l.Fragment,{children:[I&&(0,l.jsx)("span",{className:(0,o.cn)(p({size:S})),id:c+"-before","data-formlayout-id":"beforeLabel",children:(0,l.jsx)("span",{children:I})}),(0,l.jsx)("span",{children:y}),k&&(0,l.jsx)("span",{className:(0,o.cn)(h({size:S})),id:c+"-after","data-formlayout-id":"afterLabel",children:k})]});return(0,l.jsxs)("div",{ref:t,...C,className:(0,o.cn)(u({size:S,flex:L,align:r,layout:w}),a),children:[L&&(0,l.jsxs)("div",{className:(0,o.cn)(v({flex:L,align:r,layout:w})),children:[C.children,"flex-row-reverse"===w&&E]}),M||b||"horizontal"===w?(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:(0,o.cn)(m({align:r,labelLayout:_,flex:L,layout:w})),"data-formlayout-id":"labelContainer",children:[M&&z?(0,l.jsx)(n.lR,{className:"text-foreground flex gap-2 items-center break-all","data-formlayout-id":"formLabel",htmlFor:C.name||c,children:(0,l.jsx)(T,{})}):(0,l.jsx)(d.J,{className:"text-foreground flex gap-2 items-center break-all leading-normal","data-formlayout-id":"label",htmlFor:C.name||c,children:(0,l.jsx)(T,{})}),b&&(0,l.jsx)("span",{className:(0,o.cn)(g({size:S})),id:c+"-optional","data-formlayout-id":"labelOptional",children:b}),L&&(0,l.jsxs)(l.Fragment,{children:[O,"flex-row-reverse"!==w&&E]})]})}):null,!L&&(0,l.jsx)("div",{className:(0,o.cn)(f({align:r,layout:w})),style:N,"data-formlayout-id":"dataContainer",children:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:(0,o.cn)(j({nonBoxInput:R,label:y,layout:w})),"data-formlayout-id":"nonBoxInputContainer",children:C.children}),E,O]})})]})}),b=(0,a.forwardRef)((e,t)=>{let{...r}=e;return(0,l.jsx)(n.eI,{children:(0,l.jsx)(y,{ref:t,isReactForm:!0,...r,children:r.children})})});b.displayName="FormItemLayout"},89528:e=>{e.exports={loading:"loading-anim_loading__rDN7u",dash:"loading-anim_dash__HIPR0"}},91378:(e,t,r)=>{"use strict";r.d(t,{d:()=>c});var l=r(80263),a=r(44893),n=r(79279),s=r(53239),i=r(51859);let o=(0,n.F)("peer inline-flex shrink-0 cursor-pointer items-center rounded-full border transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-brand data-[state=checked]:hover:bg-brand-600/90 data-[state=unchecked]:bg-control data-[state=unchecked]:hover:bg-border",{variants:{size:{small:"h-[16px] w-[28px]",medium:"h-[20px] w-[34px]",large:"h-[24px] w-[44px]"}},defaultVariants:{size:"medium"}}),d=(0,n.F)("pointer-events-none block rounded-full bg-foreground-lighter data-[state=checked]:bg-white shadow-lg ring-0 transition-transform",{variants:{size:{small:"h-[12px] w-[12px] data-[state=checked]:translate-x-[13px] data-[state=unchecked]:translate-x-[1px]",medium:"h-[16px] w-[16px] data-[state=checked]:translate-x-[15px] data-[state=unchecked]:translate-x-[1px]",large:"h-[18px] w-[18px] data-[state=checked]:translate-x-[22px] data-[state=unchecked]:translate-x-[3px]"}},defaultVariants:{size:"medium"}}),c=s.forwardRef((e,t)=>{let{className:r,size:n,...s}=e;return(0,l.jsx)(a.bL,{className:(0,i.cn)(o({size:n}),r),...s,ref:t,children:(0,l.jsx)(a.zi,{className:(0,i.cn)(d({size:n}))})})});c.displayName=a.bL.displayName},93931:(e,t,r)=>{"use strict";r.d(t,{A:()=>x});var l=r(80263),a=r(77877),n=r(12050),s=r(66352),i=r(33408),o=r(34969),d=r(80207),c=r(51859),u=r(70324),m=r(71126);let f=e=>{let{children:t}=e,r=(0,o.a)(),{data:d,isSuccess:f}=(0,i.X)({installationId:null==r?void 0:r.partner_id});return(0,l.jsxs)("div",{className:(0,c.cn)("w-full flex flex-col overflow-hidden"),"data-sentry-component":"OrganizationLayoutContent","data-sentry-source-file":"OrganizationLayout.tsx",children:[r&&(null==r?void 0:r.managed_by)!=="supabase"&&(0,l.jsxs)(u.Fc,{variant:"default",className:"flex items-center gap-4 border-t-0 border-x-0 rounded-none",children:[(0,l.jsx)(n.A,{organization:r,showTooltip:!1,size:"medium"}),(0,l.jsxs)(u.XL,{className:"flex-1",children:["This organization is managed by ",s.N[r.managed_by],"."]}),(0,l.jsx)(m.$,{asChild:!0,type:"default",iconRight:(0,l.jsx)(a.A,{}),disabled:!f,children:(0,l.jsx)("a",{href:null==d?void 0:d.url,target:"_blank",rel:"noopener noreferrer",children:"Manage"})})]}),(0,l.jsx)("main",{className:"h-full w-full overflow-y-auto",children:t})]})},x=(0,d.r)(e=>{let{children:t}=e;return(0,l.jsx)(f,{"data-sentry-element":"OrganizationLayoutContent","data-sentry-component":"OrganizationLayout","data-sentry-source-file":"OrganizationLayout.tsx",children:t})})},99187:(e,t,r)=>{"use strict";r.d(t,{A:()=>m});var l=r(80263),a=r(59153),n=r.n(a),s=r(19898),i=r(47504);let o=()=>{let e=(0,i.useRouter)();return e.isReady?e.asPath.split("?")[0]:""};var d=r(74725),c=r(53182),u=r(40402);let m=function(e){let{children:t}=e,{slug:r}=(0,s.g)(),[a]=o().split("#"),i=(0,d._)("showOrganizationSecuritySettings");return a==="/org/".concat(r,"/team")||a==="/org/".concat(r,"/integrations")||a==="/org/".concat(r,"/usage")||a==="/org/".concat(r,"/billing")?t:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(u.Vw,{className:"mb-0","data-sentry-element":"ScaffoldContainerLegacy","data-sentry-source-file":"OrganizationSettingsLayout.tsx",children:[(0,l.jsx)(u.Dm,{"data-sentry-element":"ScaffoldTitle","data-sentry-source-file":"OrganizationSettingsLayout.tsx",children:"Organization Settings"}),(0,l.jsx)(c.h,{className:"overflow-x-auto","aria-label":"Organization menu navigation","data-sentry-element":"NavMenu","data-sentry-source-file":"OrganizationSettingsLayout.tsx",children:[{label:"General",href:"/org/".concat(r,"/general")},i&&{label:"Security",href:"/org/".concat(r,"/security")},{label:"OAuth Apps",href:"/org/".concat(r,"/apps")},{label:"Audit Logs",href:"/org/".concat(r,"/audit")},{label:"Legal Documents",href:"/org/".concat(r,"/documents")}].filter(Boolean).map(e=>(0,l.jsx)(c.O,{active:a===e.href,children:(0,l.jsx)(n(),{href:e.href,children:e.label})},e.label))})]}),(0,l.jsx)("main",{className:"h-full w-full overflow-y-auto",children:t})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[2147,726,4669,9353,7176,3730,9844,6110,9955,6871,8153,5297,5661,4100,8870,2981,7872,5874,49,2174,971,6593,636,8792],()=>t(53847)),_N_E=e.O()}]);