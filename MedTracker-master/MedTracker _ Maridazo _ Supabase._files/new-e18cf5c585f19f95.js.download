!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="5139f9ad-e269-45ad-8e19-3938b1982f7f",e._sentryDebugIdIdentifier="sentry-dbid-5139f9ad-e269-45ad-8e19-3938b1982f7f")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7946],{10540:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var a=n(80263),s=n(26090),l=n(53239),r=n(41445),i=n(46537),o=n(1053),u=n(90835),d=n(80251),c=n(73969),f=n(40807);async function y(e){let{hcaptchaToken:t}=e,{data:n,error:a}=await (0,f.bE)("/platform/stripe/setup-intent",{body:{hcaptchaToken:t}});return a&&(0,f.H4)(a),n}let x=function(){let{onSuccess:e,onError:t,...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,d.n)(e=>y(e),{async onSuccess(t,n,a){await (null==e?void 0:e(t,n,a))},async onError(e,n,a){void 0===t?c.oR.error("Failed to setup intent: ".concat(e.message)):t(e,n,a)},...n})};var h=n(79394);let p=()=>{let[e,t]=(0,l.useState)(),n=(0,h.F)(),[i,o]=(0,l.useState)(null),[u,d]=(0,l.useState)(null),[c,f]=(0,l.useState)(null),{mutate:y}=x({onSuccess:e=>t(e)}),p=(0,l.useCallback)(e=>{d(e)},[]),v=async e=>{if(!e)return console.error("Hcaptcha token is required");t(void 0),y({hcaptchaToken:e})},w=async function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(null!=c&&"FREE"!==c&&(null==e||t)&&u&&n){let e=i;try{if(!e){var a;let t=await u.execute({async:!0});e=null!=(a=null==t?void 0:t.response)?a:null}}catch(e){return}await v(null!=e?e:void 0),m()}};(0,l.useEffect)(()=>{w()},[u,n,c]);let b=()=>(t(void 0),w(!0)),m=()=>{o(null),null==u||u.resetCaptcha()};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.A,{ref:p,sitekey:"4ca1fdb9-c9c9-4495-ba50-c85fc0e7ec1f",size:"invisible",onVerify:e=>{o(e)},onClose:()=>{t(void 0)},onExpire:()=>{o(null)},"data-sentry-element":"HCaptcha","data-sentry-source-file":"index.tsx"}),(0,a.jsx)(r.ZN,{setupIntent:e,onPaymentMethodReset:()=>b(),onPlanSelected:e=>f(e),"data-sentry-element":"NewOrgForm","data-sentry-source-file":"index.tsx"})]})};p.getLayout=e=>(0,a.jsx)(i.A,{children:(0,a.jsx)(o.A,{headerTitle:"New organization",children:(0,a.jsx)(u.A,{children:e})})});let v=p},46537:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(80263);let s=e=>{let{children:t}=e;return(0,a.jsx)("div",{className:"h-full min-h-[0px] basis-0 flex-1","data-sentry-component":"AppLayout","data-sentry-source-file":"AppLayout.tsx",children:t})}},90835:(e,t,n)=>{"use strict";n.d(t,{A:()=>r,U:()=>i});var a=n(80263),s=n(80207);let l=e=>{let{children:t}=e;return(0,a.jsx)("div",{className:"flex w-full flex-col","data-sentry-component":"WizardLayout","data-sentry-source-file":"WizardLayout.tsx",children:(0,a.jsx)("div",{className:"overflow-auto",children:(0,a.jsx)("section",{className:"has-slide-in slide-in relative mx-auto my-10 max-w-2xl",children:t})})})},r=(0,s.r)(l),i=l},95346:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/new",function(){return n(10540)}])}},e=>{var t=t=>e(e.s=t);e.O(0,[4906,2147,726,4669,9353,7176,3730,9844,6110,9955,6871,8153,5297,5661,4100,8870,2981,4181,2187,4938,5044,2803,8947,606,7872,5874,49,2174,971,6642,8434,1859,3151,1445,6593,636,8792],()=>t(95346)),_N_E=e.O()}]);