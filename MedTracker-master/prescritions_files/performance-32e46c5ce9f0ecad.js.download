!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="0a82958e-a880-4d4b-9dcb-ddbc7310a649",e._sentryDebugIdIdentifier="sentry-dbid-0a82958e-a880-4d4b-9dcb-ddbc7310a649")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1988,8426],{2271:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/project/[ref]/advisors/performance",function(){return r(27222)}])},27222:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var s=r(80263),n=r(53239),a=r(19898),l=r(59758),i=r(94142),d=r(96057),c=r(32658),o=r(60411),f=r(69890),u=r(2454),m=r(1053),y=r(76448),b=r(54071),p=r(68875),g=r(16580);let L=()=>{var e;let t=(0,p.KT)(),{preset:r,id:u}=(0,a.g)(),[m,L]=(0,n.useState)([{level:i.R.ERROR,filters:[]},{level:i.R.WARN,filters:[]},{level:i.R.INFO,filters:[]}]),[v,x]=(0,n.useState)(null!=r?r:i.R.ERROR),[_,h]=(0,n.useState)(null),{data:R,isLoading:j,isRefetching:w,refetch:E}=(0,b.b)({projectRef:null==t?void 0:t.ref}),N=(0,n.useMemo)(()=>[...null!=R?R:[]].filter(e=>e.categories.includes("PERFORMANCE")),[R]),A=(null==(e=m.find(e=>e.level===v))?void 0:e.filters)||[],T=N.filter(e=>e.level===v).filter(e=>A.length>0?A.includes(e.name):e),k=d.ah.filter(e=>N.some(t=>t.name===e.name&&t.level===v)).map(e=>({name:e.title,value:e.name}));return(0,n.useEffect)(()=>{var e;u&&h(null!=(e=N.find(e=>e.cache_key===u))?e:null)},[u,N]),(0,s.jsxs)("div",{className:"h-full flex flex-col","data-sentry-component":"ProjectLints","data-sentry-source-file":"performance.tsx",children:[(0,s.jsx)(y.M,{className:"py-4 px-6 !mb-0",title:"Performance Advisor",docsUrl:"https://supabase.com/docs/guides/database/database-linter","data-sentry-element":"FormHeader","data-sentry-source-file":"performance.tsx"}),(0,s.jsx)(l.A,{activeLints:N,isLoading:j,currentTab:v,setCurrentTab:x,setSelectedLint:h,"data-sentry-element":"LintPageTabs","data-sentry-source-file":"performance.tsx"}),(0,s.jsx)(o.A,{filterOptions:k,activeLints:N,filteredLints:T,currentTab:v,filters:m,isLoading:j||w,setFilters:L,onClickRefresh:E,"data-sentry-element":"LinterFilters","data-sentry-source-file":"performance.tsx"}),(0,s.jsx)(g.$,{loading:w,"data-sentry-element":"LoadingLine","data-sentry-source-file":"performance.tsx"}),(0,s.jsx)(c.A,{filteredLints:T,currentTab:v,selectedLint:_,setSelectedLint:h,isLoading:j,"data-sentry-element":"LinterDataGrid","data-sentry-source-file":"performance.tsx"}),(0,s.jsx)(f.A,{isLoading:j,isRefetching:w,refetch:E,"data-sentry-element":"LinterPageFooter","data-sentry-source-file":"performance.tsx"})]})};L.getLayout=e=>(0,s.jsx)(m.A,{children:(0,s.jsx)(u.A,{title:"Linter",children:e})});let v=L}},e=>{var t=t=>e(e.s=t);e.O(0,[89,2147,726,4669,9353,7176,3730,9844,6110,9955,6871,8153,5297,5661,4100,8870,2981,4181,2187,4560,7344,3895,1959,9116,9869,7872,5874,49,2174,971,6642,8434,2602,5133,6593,636,8792],()=>t(2271)),_N_E=e.O()}]);