!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="42745130-4686-4cb1-b714-3d83688082c1",e._sentryDebugIdIdentifier="sentry-dbid-42745130-4686-4cb1-b714-3d83688082c1")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1115],{3073:(e,t,a)=>{a.d(t,{A:()=>n});let n=(0,a(23983).A)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},4599:(e,t,a)=>{a.d(t,{_:()=>i});var n=a(56947),s=a(40807),r=a(65691);async function l(e){let{data:t,error:a}=await (0,s.Jt)("/platform/profile/access-tokens",{signal:e});return a&&(0,s.H4)(a),t}let i=function(){let{enabled:e=!0,...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.I)(r.Q.list(),e=>{let{signal:t}=e;return l(t)},t)}},23012:(e,t,a)=>{a.d(t,{U:()=>r});var n=a(53434),s=a.n(n);let r=e=>{let t=s()(),a=s()(e.from).hour(t.hour()).minute(t.minute()).second(t.second()),n=s()(e.to).hour(t.hour()).minute(t.minute()).second(t.second());return a.date()!==n.date()?{from:a.utc().toISOString(),to:n.utc().toISOString()}:a.date()===t.date()?{from:a.set("hour",0).set("minute",0).set("second",0).utc().toISOString(),to:n.utc().toISOString()}:{from:a.utc().toISOString(),to:n.set("hour",23).set("minute",59).set("second",59).utc().toISOString()}}},38627:(e,t,a)=>{a.d(t,{A:()=>n});let n=(0,a(23983).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},41115:(e,t,a)=>{a.d(t,{mo:()=>y,je:()=>R,In:()=>K,a6:()=>q,GW:()=>ey});var n=a(80263),s=a(32144),r=a(80251),l=a(73969),i=a(40807),o=a(65691);async function d(e){let{id:t}=e,{data:a,error:n}=await (0,i.yH)("/platform/profile/access-tokens/{id}",{params:{path:{id:t}}});return n&&(0,i.H4)(n),a}let c=function(){let{onSuccess:e,onError:t,...a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,s.jE)();return(0,r.n)(e=>d(e),{async onSuccess(t,a,s){await n.invalidateQueries(o.Q.list()),await (null==e?void 0:e(t,a,s))},async onError(e,a,n){void 0===t?l.oR.error("Failed to delete access token: ".concat(e.message)):t(e,a,n)},...a})};var u=a(4599),m=a(28097),x=a(53239),h=a(80125),f=a(71126),p=a(64540);let y=()=>{let{data:e,isLoading:t}=(0,u._)(),{mutate:a}=c({onSuccess:()=>{l.oR.success("Successfully deleted access token"),r(!1)}}),[s,r]=(0,x.useState)(!1),[i,o]=(0,x.useState)(void 0),d=async e=>a({id:e});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"overflow-hidden overflow-x-scroll",children:(0,n.jsx)(h.A,{head:[(0,n.jsx)(h.A.th,{children:"Token"},"header-token"),(0,n.jsx)(h.A.th,{children:"Name"},"header-name"),(0,n.jsx)(h.A.th,{children:"Created"},"header-created"),(0,n.jsx)(h.A.th,{},"header-action")],body:e&&0==e.length?(0,n.jsx)(h.A.tr,{children:(0,n.jsx)(h.A.td,{colSpan:5,className:"p-3 py-12 text-center",children:(0,n.jsx)("p",{className:"text-foreground-light",children:t?"Checking for tokens":"You do not have any tokens created yet"})})}):(0,n.jsx)(n.Fragment,{children:null==e?void 0:e.map(e=>(0,n.jsxs)(h.A.tr,{children:[(0,n.jsx)(h.A.td,{children:(0,n.jsx)("span",{className:"font-mono",children:e.token_alias})}),(0,n.jsx)(h.A.td,{children:e.name}),(0,n.jsx)(h.A.td,{children:(0,n.jsx)("p",{children:new Date(e.created_at).toLocaleString()})}),(0,n.jsx)(h.A.td,{children:(0,n.jsx)(f.$,{type:"default",title:"Delete token",className:"px-1",onClick:()=>{o(e),r(!0)},icon:(0,n.jsx)(m.A,{})})})]},e.token_alias))}),"data-sentry-element":"Table","data-sentry-source-file":"AccessTokenList.tsx"})}),(0,n.jsx)(p.A,{visible:s,variant:"destructive",title:"Confirm to delete",confirmLabel:"Delete",confirmLabelLoading:"Deleting",onCancel:()=>r(!1),onConfirm:()=>{i&&d(i.id)},"data-sentry-element":"ConfirmationModal","data-sentry-source-file":"AccessTokenList.tsx",children:(0,n.jsx)("p",{className:"py-4 text-sm text-foreground-light",children:'This action cannot be undone. Are you sure you want to delete "'.concat(null==i?void 0:i.name,'" token?')})})]})};var j=a(53434),g=a.n(j),v=a(653),b=a(14885),N=a(82892),w=a(88028),A=a(48153),k=a(41370),S=a(98905),C=a(91494),F=a(96457),D=a(98047),T=a(56947),L=a(64036),I=a(50237);async function P(e,t){let{iso_timestamp_start:a,iso_timestamp_end:n}=e,{data:s,error:r}=await (0,i.Jt)("/platform/profile/audit",{params:{query:{iso_timestamp_start:a,iso_timestamp_end:n}},signal:t});return r&&(0,i.H4)(r),s}let _=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{iso_timestamp_start:a,iso_timestamp_end:n}=e;return(0,T.I)(I.e.auditLogs({date_start:a,date_end:n}),t=>{let{signal:a}=t;return P(e,a)},{enabled:L.pe&&t.enabled,...t})};var M=a(84438),O=a(66644),z=a(68557),E=a(23012);let R=()=>{var e,t,a,s;let r=g()().utc().set("millisecond",0),[l,i]=(0,x.useState)(!0),[o,d]=(0,x.useState)({from:r.subtract(1,"day").toISOString(),to:r.toISOString()}),[c,u]=(0,x.useState)(),[m,p]=(0,x.useState)({projects:[]}),{data:y}=(0,M.el)(),{data:j}=(0,D.Ad)(),{data:T,error:L,isLoading:I,isSuccess:P,isError:R,isRefetching:B,refetch:V}=_({iso_timestamp_start:o.from,iso_timestamp_end:o.to}),Y=null!=(t=null==T?void 0:T.retention_period)?t:0,Q=null!=(a=null==T?void 0:T.result)?a:[],H=null==Q||null==(e=Q.sort((e,t)=>l?Number(new Date(t.occurred_at))-Number(new Date(e.occurred_at)):Number(new Date(e.occurred_at))-Number(new Date(t.occurred_at))))?void 0:e.filter(e=>m.projects.length>0?m.projects.includes(e.target.metadata.project_ref||""):e),$=g()().subtract(Y,"days"),G=g()();return(0,x.useEffect)(()=>{let e=g()(o.from).diff(g()(o.to)),t=setInterval(()=>{let t=g()().utc().set("millisecond",0);d({from:t.add(e).toISOString(),to:t.toISOString()})},3e5);return()=>clearInterval(t)},[o.from,o.to]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"space-y-4 flex flex-col pb-8",children:[(0,n.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)("p",{className:"text-xs prose",children:"Filter by"}),(0,n.jsx)(C.I,{name:"Projects",options:null!=y?y:[],labelKey:"name",valueKey:"ref",activeOptions:m.projects,onSaveFilters:e=>p({...m,projects:e}),"data-sentry-element":"FilterPopover","data-sentry-source-file":"AuditLogs.tsx"}),(0,n.jsx)(S.l,{hideTime:!0,hideClear:!0,triggerButtonType:"dashed",triggerButtonTitle:"",from:o.from,to:o.to,minDate:$.toDate(),maxDate:G.toDate(),onChange:e=>{if(null!==e.from&&null!==e.to){let{from:t,to:a}=(0,E.U)(e);d({from:t,to:a})}},renderFooter:()=>(0,n.jsxs)(O.F,{title:"",variant:"info",className:"mx-3 pl-2 pr-2 pt-1 pb-2",children:["You have a log retention period of"," ",(0,n.jsxs)("span",{className:"text-brand",children:[Y," day",Y>1?"s":""]}),". You may only view logs from"," ",g()().subtract(Y,"days").format("DD MMM YYYY")," as the earliest date."]}),"data-sentry-element":"DatePicker","data-sentry-source-file":"AuditLogs.tsx"}),P&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"h-[20px] border-r border-strong !ml-4 !mr-2"}),(0,n.jsxs)("p",{className:"prose text-xs",children:["Viewing ",H.length," logs in total"]})]})]}),(0,n.jsx)(f.$,{type:"default",disabled:I||B,icon:(0,n.jsx)(v.A,{className:B?"animate-spin":""}),onClick:()=>V(),"data-sentry-element":"Button","data-sentry-source-file":"AuditLogs.tsx",children:B?"Refreshing":"Refresh"})]}),I&&(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(F.A,{}),(0,n.jsx)(F.A,{className:"w-3/4"}),(0,n.jsx)(F.A,{className:"w-1/2"})]}),R&&(0,n.jsx)(A.A,{error:L,subject:"Failed to retrieve audit logs"}),P&&(0,n.jsx)(n.Fragment,{children:0===Q.length?(0,n.jsx)("div",{className:"bg-surface-100 border rounded p-4 flex items-center justify-between",children:(0,n.jsx)("p",{className:"prose text-sm",children:"You do not have any audit logs available yet"})}):Q.length>0&&0===H.length?(0,n.jsx)("div",{className:"bg-surface-100 border rounded p-4 flex items-center justify-between",children:(0,n.jsx)("p",{className:"prose text-sm",children:"No audit logs found based on the filters applied"})}):(0,n.jsx)("div",{className:"overflow-hidden md:overflow-auto overflow-x-scroll",children:(0,n.jsx)(h.A,{head:[(0,n.jsx)(h.A.th,{className:"py-2",children:"Action"},"action"),(0,n.jsx)(h.A.th,{className:"py-2",children:"Target"},"target"),(0,n.jsx)(h.A.th,{className:"py-2",children:(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)("p",{children:"Date"}),(0,n.jsx)(k.G,{type:"text",className:"px-1",icon:l?(0,n.jsx)(b.A,{strokeWidth:1.5,size:14}):(0,n.jsx)(N.A,{strokeWidth:1.5,size:14}),onClick:()=>i(!l),tooltip:{content:{side:"bottom",text:l?"Sort latest first":"Sort earliest first"}}})]})},"date"),(0,n.jsx)(h.A.th,{className:"py-2"},"actions")],body:null!=(s=null==H?void 0:H.map(e=>{var t,a,s,r,l,i,o;let d=null==y?void 0:y.find(t=>t.ref===e.target.metadata.project_ref),c=null==j?void 0:j.find(t=>t.slug===e.target.metadata.org_slug),m=(null==(t=e.action.metadata[0])?void 0:t.status)!==void 0;return(0,n.jsxs)(h.A.tr,{onClick:()=>u(e),className:"cursor-pointer hover:!bg-alternative transition duration-100",children:[(0,n.jsx)(h.A.td,{className:"max-w-[250px]",children:(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[m&&(0,n.jsx)("p",{className:"bg-surface-200 rounded px-1 flex items-center justify-center text-xs font-mono border",children:e.action.metadata[0].status}),(0,n.jsx)("p",{className:"truncate",title:e.action.name,children:e.action.name})]})}),(0,n.jsxs)(h.A.td,{children:[(0,n.jsxs)("p",{className:"text-foreground-light max-w-[230px] truncate",title:null!=(s=null!=(a=null==d?void 0:d.name)?a:null==c?void 0:c.name)?s:"-",children:[(null==d?void 0:d.name)?"Project: ":(null==c?void 0:c.name)?"Organization: ":null,null!=(l=null!=(r=null==d?void 0:d.name)?r:null==c?void 0:c.name)?l:"-"]}),(0,n.jsxs)("p",{className:"text-foreground-light text-xs mt-0.5 truncate",title:null!=(i=e.target.metadata.project_ref)?i:e.target.metadata.org_slug,children:[e.target.metadata.project_ref?"Ref: ":e.target.metadata.org_slug?"Slug: ":null,null!=(o=e.target.metadata.project_ref)?o:e.target.metadata.org_slug]})]}),(0,n.jsx)(h.A.td,{children:(0,n.jsx)(z.T,{className:"text-sm",utcTimestamp:e.occurred_at})}),(0,n.jsx)(h.A.td,{align:"right",children:(0,n.jsx)(f.$,{type:"default",children:"View details"})})]},e.occurred_at)}))?s:[]})})})]}),(0,n.jsx)(w.f,{selectedLog:c,onClose:()=>u(void 0),"data-sentry-element":"LogDetailsPanel","data-sentry-source-file":"AuditLogs.tsx"})]})};var B=a(62659),V=a(77877),Y=a(59153),Q=a.n(Y);async function H(e){let{name:t,scope:a}=e,{data:n,error:s}=await (0,i.bE)("/platform/profile/access-tokens",{body:{name:t,scope:a}});return s&&(0,i.H4)(s),n}let $=function(){let{onSuccess:e,onError:t,...a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,s.jE)();return(0,r.n)(e=>H(e),{async onSuccess(t,a,s){await n.invalidateQueries(o.Q.list()),await (null==e?void 0:e(t,a,s))},async onError(e,a,n){void 0===t?l.oR.error("Failed to create access token: ".concat(e.message)):t(e,a,n)},...a})};var G=a(74115),W=a(67920),U=a(66586),Z=a(16988),X=a(82758),J=a(10406);let K=e=>{let{onCreateToken:t}=e,[a,s]=(0,x.useState)(!1),[r,l]=(0,x.useState)(void 0),{mutate:i,isLoading:o}=$({onSuccess:e=>{t(e),s(!1)}}),d=async e=>{i({name:e.tokenName,scope:r})};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"container max-w-7xl",children:(0,n.jsx)("div",{className:"flex justify-between",children:(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)(f.$,{className:"rounded-r-none px-3",onClick:()=>{l(void 0),s(!0)},"data-sentry-element":"Button","data-sentry-source-file":"NewAccessTokenButton.tsx",children:"Generate new token"}),(0,n.jsxs)(G.rI,{"data-sentry-element":"DropdownMenu","data-sentry-source-file":"NewAccessTokenButton.tsx",children:[(0,n.jsx)(G.ty,{asChild:!0,"data-sentry-element":"DropdownMenuTrigger","data-sentry-source-file":"NewAccessTokenButton.tsx",children:(0,n.jsx)(f.$,{type:"primary",className:"rounded-l-none px-[4px] py-[5px]",icon:(0,n.jsx)(B.A,{}),"data-sentry-element":"Button","data-sentry-source-file":"NewAccessTokenButton.tsx"})}),(0,n.jsx)(G.SQ,{align:"end",side:"bottom","data-sentry-element":"DropdownMenuContent","data-sentry-source-file":"NewAccessTokenButton.tsx",children:(0,n.jsx)(G._2,{onClick:()=>{l("V0"),s(!0)},"data-sentry-element":"DropdownMenuItem","data-sentry-source-file":"NewAccessTokenButton.tsx",children:(0,n.jsx)("div",{className:"space-y-1",children:(0,n.jsx)("p",{className:"block text-foreground",children:"Generate token for experimental API"})})},"experimental-token")})]})]})})}),(0,n.jsx)(W.A,{hideFooter:!0,size:"small",visible:a,onCancel:()=>s(!a),header:(0,n.jsx)("div",{className:"flex items-baseline gap-2",children:(0,n.jsx)("h5",{className:"text-sm text-foreground",children:"V0"===r?"Generate token for experimental API":"Generate New Token"})}),"data-sentry-element":"Modal","data-sentry-source-file":"NewAccessTokenButton.tsx",children:(0,n.jsx)(U.A,{validateOnBlur:!0,initialValues:{tokenName:""},onSubmit:d,validate:e=>{let t={};return e.tokenName||(t.tokenName="Please enter a name for the token"),t},"data-sentry-element":"Form","data-sentry-source-file":"NewAccessTokenButton.tsx",children:()=>(0,n.jsxs)(n.Fragment,{children:["V0"===r&&(0,n.jsx)(W.A.Content,{children:(0,n.jsx)(J.Z,{type:"warning",title:"The experimental API provides additional endpoints which allows you to manage your organizations and projects.",description:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("p",{children:"These include deleting organizations and projects which cannot be undone. As such, be very careful when using this API."}),(0,n.jsx)("div",{className:"mt-4",children:(0,n.jsx)(f.$,{asChild:!0,type:"default",icon:(0,n.jsx)(V.A,{}),children:(0,n.jsx)(Q(),{href:"https://api.supabase.com/api/v0",target:"_blank",rel:"noreferrer",children:"Experimental API documentation"})})})]})})}),(0,n.jsx)(W.A.Content,{children:(0,n.jsx)(Z.A,{id:"tokenName",label:"Name",placeholder:"Provide a name for your token",className:"w-full"})}),(0,n.jsx)(X.Es,{children:(0,n.jsxs)("div",{className:"flex items-center space-x-2 justify-end",children:[(0,n.jsx)(f.$,{type:"default",disabled:o,onClick:()=>s(!1),children:"Cancel"}),(0,n.jsx)(f.$,{htmlType:"submit",loading:o,disabled:o,children:"Generate token"})]})})]})})})]})},q=e=>{let{token:t}=e;return(0,n.jsx)(J.Z,{type:"default",title:"Successfully generated a new token!",description:(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"w-full space-y-2",children:[(0,n.jsx)("p",{className:"text-sm",children:"Do copy this access token and store it in a secure place - you will not be able to see it again."}),(0,n.jsx)(Z.A,{copy:!0,readOnly:!0,size:"small",className:"max-w-xl input-mono",value:t.token,onChange:()=>{}})]})}),"data-sentry-element":"Admonition","data-sentry-component":"NewTokenBanner","data-sentry-source-file":"NewTokenBanner.tsx"})};var ee=a(55866),et=a(88608),ea=a(70324),en=a(19898),es=a(72256),er=a(79918),el=a(57807),ei=a(24468);let eo=async e=>{let{error:t,data:a}=await ei.j2.mfa.enroll(e);if(t)throw t;return a},ed=function(){let{onSuccess:e,onError:t,...a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.n)(e=>eo(e),{async onSuccess(t,a,n){await (null==e?void 0:e(t,a,n))},async onError(e,a,n){void 0===t?l.oR.error("Failed to enroll factor: ".concat(e.message)):t(e,a,n)},...a})},ec=async e=>{let{error:t,data:a}=await ei.j2.mfa.unenroll(e);if(t)throw t;return a},eu=function(){let{onSuccess:e,onError:t,...a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,s.jE)();return(0,r.n)(e=>ec(e),{async onSuccess(t,a,s){await Promise.all([n.invalidateQueries(I.e.mfaFactors()),n.invalidateQueries(I.e.aaLevel())]),await (null==e?void 0:e(t,a,s))},async onError(e,a,n){void 0===t?l.oR.error("Failed to delete factor: ".concat(e.message)):t(e,a,n)},...a})};var em=a(95319);let ex=e=>{let{visible:t,name:a,enroll:s,setName:r,isEnrolling:l,onClose:i}=e;return(0,n.jsx)(p.A,{size:"medium",visible:t,title:"Add a new authenticator app as a factor",confirmLabel:"Generate QR",confirmLabelLoading:"Generating QR",disabled:0===a.length,loading:l,onCancel:i,onConfirm:()=>{s({factorType:"totp",friendlyName:a})},"data-sentry-element":"ConfirmationModal","data-sentry-component":"FirstStep","data-sentry-source-file":"AddNewFactorModal.tsx",children:(0,n.jsx)(Z.A,{label:"Provide a name to identify this app",descriptionText:"A string will be randomly generated if a name is not provided",value:a,onChange:e=>r(e.target.value),"data-sentry-element":"Input","data-sentry-source-file":"AddNewFactorModal.tsx"})})},eh=e=>{let{visible:t,factorName:a,factor:r,isLoading:i,onClose:o}=e,[d,c]=(0,x.useState)(""),u=(0,s.jE)(),[m]=(0,em.U)(en.rS.LAST_VISITED_ORGANIZATION,""),{mutate:h}=eu({onSuccess:()=>o()}),{mutate:f,isLoading:y}=(0,el.i)({onError:e=>{l.oR.error("Failed to add a second factor authentication:  ".concat(null==e?void 0:e.message))},onSuccess:async()=>{m&&await u.invalidateQueries(er.O.members(m)),l.oR.success("Successfully added a second factor authentication"),o()}}),[j,g]=(0,x.useState)(null);return(0,x.useEffect)(()=>{r&&(null==j?void 0:j.id)!==r.id&&g(r)},[r]),(0,n.jsxs)(p.A,{size:"medium",visible:t,title:"Verify new factor ".concat(a),confirmLabel:"Confirm",confirmLabelLoading:"Confirming",loading:y,onCancel:()=>{j&&h({factorId:j.id})},onConfirm:()=>j&&f({factorId:j.id,code:d}),"data-sentry-element":"ConfirmationModal","data-sentry-component":"SecondStep","data-sentry-source-file":"AddNewFactorModal.tsx",children:[(0,n.jsx)("div",{className:"py-4 pb-0 text-sm",children:(0,n.jsx)("span",{children:"Use an authenticator app to scan the following QR code, and provide the code from the app to complete the enrolment."})}),i&&(0,n.jsx)("div",{className:"pb-4 px-4",children:(0,n.jsx)(F.y,{})}),j&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"flex justify-center py-6",children:(0,n.jsx)("div",{className:"h-48 w-48 bg-white rounded",children:(0,n.jsx)("img",{width:190,height:190,src:j.totp.qr_code,alt:j.totp.uri})})}),(0,n.jsx)("div",{children:(0,n.jsx)(es.A,{title:"Unable to scan?",description:(0,n.jsx)(Z.A,{copy:!0,disabled:!0,id:"ref",size:"small",label:"You can also enter this secret key into your authenticator app",value:j.totp.secret})})}),(0,n.jsx)("div",{className:"pt-2 pb-4",children:(0,n.jsx)(Z.A,{label:"Authentication code",value:d,placeholder:"XXXXXX",onChange:e=>c(e.target.value)})})]})]})},ef=e=>{let{visible:t,onClose:a}=e,[s,r]=(0,x.useState)("App ".concat(Math.floor(1e3*Math.random()))),{data:l,mutate:i,isLoading:o,reset:d}=ed();return(0,x.useEffect)(()=>{t||(r("App ".concat(Math.floor(1e3*Math.random()))),d())},[d,t]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ex,{visible:t&&!l,name:s,setName:r,enroll:i,isEnrolling:o,onClose:a,"data-sentry-element":"FirstStep","data-sentry-source-file":"AddNewFactorModal.tsx"}),(0,n.jsx)(eh,{visible:t&&!!l,factorName:s,factor:l,isLoading:o,onClose:a,"data-sentry-element":"SecondStep","data-sentry-source-file":"AddNewFactorModal.tsx"})]})},ep=e=>{let{visible:t,factorId:a,lastFactorToBeDeleted:r,onClose:i}=e,o=(0,s.jE)(),[d]=(0,em.U)(en.rS.LAST_VISITED_ORGANIZATION,""),{mutate:c,isLoading:u}=eu({onSuccess:async()=>{d&&await o.invalidateQueries(er.O.members(d)),l.oR.success("Successfully deleted factor"),i()}});return(0,n.jsxs)(p.A,{size:"medium",visible:t,variant:"destructive",title:"Confirm to delete factor",confirmLabel:"Delete",confirmLabelLoading:"Deleting",loading:u,onCancel:i,onConfirm:()=>a&&c({factorId:a}),alert:{title:r?"Multi-factor authentication will be disabled":"This action cannot be undone",description:r?"There are no other factors that are set up once you delete this factor, as such your account will no longer be guarded by multi-factor authentication":"You will no longer be able to use this authenticator app for multi-factor authentication when signing in to the dashboard"},"data-sentry-element":"ConfirmationModal","data-sentry-component":"DeleteFactorModal","data-sentry-source-file":"DeleteFactorModal.tsx",children:[(0,n.jsx)("p",{className:"text-sm",children:"Before deleting this factor, consider:"}),(0,n.jsx)("ul",{className:"text-sm text-foreground-light py-1 list-disc mx-4 space-y-1",children:r?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("li",{children:"Adding another authenticator app as a factor prior to deleting"}),(0,n.jsx)("li",{children:"Ensure that your account does not need multi-factor authentication"}),(0,n.jsx)("li",{children:"You will lose access to any organization that enforces multi-factor authentication"})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("li",{children:"Your backup authenticator app is still available to use"}),(0,n.jsx)("li",{children:"Adding another authenticator app thereafter as a backup"})]})})]})},ey=()=>{let[e,t]=(0,x.useState)(!1),[a,s]=(0,x.useState)(null),{data:r,isLoading:l,isError:i,isSuccess:o,error:d}=(0,et.a)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("section",{className:"space-y-3",children:[(0,n.jsx)("p",{className:"text-sm text-foreground-light",children:"Generate one-time passwords via authenticator apps like 1Password, Authy, etc. as a second factor to verify your identity during sign-in."}),(0,n.jsxs)("div",{children:[l&&(0,n.jsx)(F.y,{}),i&&(0,n.jsx)(A.A,{error:d,subject:"Failed to retrieve account security information"}),o&&(0,n.jsxs)(n.Fragment,{children:[1===r.totp.length&&(0,n.jsxs)(ea.Fc,{variant:"default",className:"mb-2",children:[(0,n.jsx)(ee.A,{className:"h-4 w-4"}),(0,n.jsx)(ea.XL,{children:"We recommend configuring two authenticator apps across different devices"}),(0,n.jsx)(ea.TN,{className:"flex flex-col gap-3",children:"The two authenticator apps will serve as a backup for each other."})]}),(0,n.jsx)("div",{children:r.totp.map(e=>{var t;return(0,n.jsxs)("div",{className:"flex flex-row justify-between py-2",children:[(0,n.jsxs)("p",{className:"text-sm text-foreground flex items-center space-x-2",children:[(0,n.jsx)("span",{className:"text-foreground-light",children:"Name:"})," ",(0,n.jsx)("span",{children:null!=(t=e.friendly_name)?t:"No name provided"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsxs)("p",{className:"text-sm text-foreground-light",children:["Added on ",g()(e.updated_at).format(L.QM)]}),(0,n.jsx)(f.$,{size:"tiny",type:"default",onClick:()=>s(e.id),children:"Remove"})]})]},e.id)})}),r.totp.length<2?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"pt-2",children:(0,n.jsx)(f.$,{onClick:()=>t(!0),children:"Add new app"})})}):null]})]})]}),(0,n.jsx)(ef,{visible:e,onClose:()=>t(!1),"data-sentry-element":"AddNewFactorModal","data-sentry-source-file":"index.tsx"}),(0,n.jsx)(ep,{visible:null!==a,factorId:a,lastFactorToBeDeleted:(null==r?void 0:r.totp.length)===1,onClose:()=>s(null),"data-sentry-element":"DeleteFactorModal","data-sentry-source-file":"index.tsx"})]})}},41226:(e,t,a)=>{a.d(t,{A:()=>n});let n=(0,a(23983).A)("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]])},52700:(e,t,a)=>{a.d(t,{A:()=>n});let n=(0,a(23983).A)("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]])},57807:(e,t,a)=>{a.d(t,{i:()=>u});var n=a(55422),s=a(32144),r=a(80251),l=a(73969),i=a(24468),o=a(50237);let d=["Invalid TOTP code entered"],c=async e=>{let{error:t,data:a}=await i.j2.mfa.challengeAndVerify(e);if(t)throw t;return a},u=function(){let{onSuccess:e,onError:t,...a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=(0,s.jE)();return(0,r.n)(e=>{let{refreshFactors:t,...a}=e;return c(a)},{async onSuccess(t,a,n){var s;let r=null==(s=a.refreshFactors)||s;await Promise.all([...r?[i.invalidateQueries(o.e.mfaFactors())]:[],i.invalidateQueries(o.e.aaLevel())]),await (null==e?void 0:e(t,a,n))},async onError(e,a,s){void 0===t?l.oR.error("Failed to sign in: ".concat(e.message)):t(e,a,s),d.some(t=>e.message.includes(t))||n.wd("[CRITICAL] Failed to sign in via MFA: "+e.message)},...a})}},65691:(e,t,a)=>{a.d(t,{Q:()=>n});let n={list:()=>["access-tokens"]}},66586:(e,t,a)=>{a.d(t,{A:()=>o});var n=a(80263),s=a(53239),r=a(64938),l=a(3891);function i(e,t){if(!t.error)return delete e[t.key],e;if(t)return{...e,[t.key]:t.error};throw Error()}function o(e){let{validate:t,...a}=e,[o,d]=(0,s.useReducer)(i,null),c=(0,r.Wx)({validateOnBlur:!0,...a,validationSchema:a.validationSchema,initialValues:a.initialValues,onSubmit:a.onSubmit,validate:t||function(){return o}});return(0,n.jsx)("form",{id:a.id,name:a.name,onSubmit:c.handleSubmit,className:a.className,style:a.style,method:"POST","data-sentry-component":"Form","data-sentry-source-file":"Form.tsx",children:(0,n.jsx)(l.h,{values:c.values,errors:c.errors,formContextOnChange:c.handleChange,handleBlur:c.handleBlur,touched:c.touched,fieldLevelValidation:function(e,t){d({key:e,error:t})},"data-sentry-element":"FormContextProvider","data-sentry-source-file":"Form.tsx",children:a.children({errors:c.errors,touched:c.touched,isSubmitting:c.isSubmitting,isValidating:c.isValidating,submitCount:c.submitCount,initialValues:c.initialValues,values:c.values,handleReset:c.handleReset,resetForm:c.resetForm,setFieldValue:c.setFieldValue})})})}},66644:(e,t,a)=>{a.d(t,{F:()=>m});var n=a(80263),s=a(53239),r=a(16865),l=a(92287),i=a(38627),o=a(74438),d=a(3073),c=a(62763);let u={danger:(0,n.jsx)(l.A,{strokeWidth:1.5,size:18}),success:(0,n.jsx)(i.A,{strokeWidth:1.5,size:18}),warning:(0,n.jsx)(o.A,{strokeWidth:1.5,size:18}),info:(0,n.jsx)(d.A,{strokeWidth:1.5,size:18}),neutral:(0,n.jsx)(n.Fragment,{})};function m(e){let{variant:t="neutral",className:a,title:l,withIcon:i,closable:o,children:d,icon:m,actions:x}=e,h=(0,r.A)("alert"),[f,p]=(0,s.useState)(!0),y=[h.base];y.push(h.variant[t].base),a&&y.push(a);let j=[h.description,h.variant[t].description],g=[h.close];return(0,n.jsx)(n.Fragment,{children:f&&(0,n.jsxs)("div",{className:y.join(" "),children:[i?(0,n.jsx)("div",{className:h.variant[t].icon,children:i&&u[t]}):null,m&&m,(0,n.jsxs)("div",{className:"flex flex-1 items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:[h.variant[t].header,h.header].join(" "),children:l}),(0,n.jsx)("div",{className:j.join(" "),children:d})]}),x]}),o&&(0,n.jsx)("button",{"aria-label":"Close alert",onClick:()=>p(!1),className:g.join(" "),children:(0,n.jsx)(c.A,{strokeWidth:2,size:16})})]})})}},68557:(e,t,a)=>{a.d(t,{K:()=>p,T:()=>g});var n=a(80263),s=a(53239),r=a(51527),l=a(51859),i=a(16632),o=a(53434),d=a.n(o),c=a(27344),u=a.n(c),m=a(37361),x=a.n(m);d().extend(u()),d().extend(x());let h=e=>d().unix(Number(e)/1e3/1e3).toISOString(),f=e=>{let t=16===String(e).length;return!Number.isNaN(Number(e))&&t},p=e=>{let{utcTimestamp:t,format:a}=e,n=f(t)?h(t):t;return d().utc(n).local().format(a)},y=e=>{let{utcTimestamp:t,format:a}=e,n=f(t)?h(t):t;return d().utc(n).format(a)},j=e=>{let{utcTimestamp:t}=e,a=f(t)?h(t):t;return d().utc(a).fromNow()},g=e=>{let{utcTimestamp:t,className:a,displayAs:o="local",format:d="DD MMM  HH:mm:ss",labelFormat:c="DD MMM HH:mm:ss"}=e,u=p({utcTimestamp:t,format:d}),m=y({utcTimestamp:t,format:d}),x=j({utcTimestamp:t}),[h,f]=(0,s.useState)("start"),g=(0,s.useRef)(null),v=Intl.DateTimeFormat().resolvedOptions().timeZone;(0,s.useEffect)(()=>{let e=()=>{if(g.current){let e=g.current.getBoundingClientRect(),t=window.innerHeight;f(e.top<t/2?"start":"end")}};return e(),window.addEventListener("scroll",e),window.addEventListener("resize",e),()=>{window.removeEventListener("scroll",e),window.removeEventListener("resize",e)}},[]);let b=e=>{let{label:t,value:a}=e,[i,o]=(0,s.useState)(!1);return(0,n.jsxs)("div",{onPointerDown:e=>{e.stopPropagation()},onMouseDown:e=>{e.stopPropagation()},onClick:e=>{e.stopPropagation(),e.preventDefault(),(0,r.l)(a,()=>{o(!0),setTimeout(()=>{o(!1)},1e3)})},className:(0,l.cn)("relative cursor-pointer flex gap-y-2 gap-x-0.5 hover:bg-surface-100 px-2 py-1 group",{"bg-surface-100":i}),"data-sentry-component":"TooltipRow","data-sentry-source-file":"index.tsx",children:[(0,n.jsxs)("div",{className:"flex items-center gap-x-2 text-left truncate",children:[(0,n.jsx)("p",{children:t}),(0,n.jsx)("div",{className:"border-t w-full border-dashed"})]}),(0,n.jsxs)("div",{className:"relative flex items-center gap-x-2 flex-grow",children:[(0,n.jsx)("div",{className:"border-t w-full border-dashed z-10"}),i&&(0,n.jsx)("span",{className:"flex items-center justify-end w-full absolute inset-0 flex items-right text-brand-600 bg-surface-100",children:"Copied!"}),(0,n.jsx)("span",{className:"flex items-center gap-x-2 justify-end whitespace-nowrap",children:a})]})]})};return(0,n.jsxs)(i.m_,{"data-sentry-element":"Tooltip","data-sentry-component":"TimestampInfo","data-sentry-source-file":"index.tsx",children:[(0,n.jsx)(i.k$,{asChild:!0,ref:g,className:"text-xs ".concat(a," border-b border-transparent hover:border-dashed hover:border-foreground-light"),"data-sentry-element":"TooltipTrigger","data-sentry-source-file":"index.tsx",children:(0,n.jsx)("span",{children:"local"===o?p({utcTimestamp:t,format:c}):y({utcTimestamp:t,format:c})})}),(0,n.jsxs)(i.ZI,{align:h,side:"right",className:"font-mono p-0 py-1 min-w-80","data-sentry-element":"TooltipContent","data-sentry-source-file":"index.tsx",children:[(0,n.jsx)(b,{label:"UTC",value:m,"data-sentry-element":"TooltipRow","data-sentry-source-file":"index.tsx"}),(0,n.jsx)(b,{label:v,value:u,"data-sentry-element":"TooltipRow","data-sentry-source-file":"index.tsx"}),(0,n.jsx)(b,{label:"Relative",value:x,"data-sentry-element":"TooltipRow","data-sentry-source-file":"index.tsx"}),(0,n.jsx)(b,{label:"Timestamp",value:String(t),"data-sentry-element":"TooltipRow","data-sentry-source-file":"index.tsx"})]})]})}},72256:(e,t,a)=>{a.d(t,{A:()=>m});var n=a(80263),s=a(41226),r=a(52700),l=a(77877),i=a(59153),o=a.n(i),d=a(53239),c=a(71126);let u=(0,d.forwardRef)((e,t)=>{let{icon:a,title:i,description:u,url:m,urlLabel:x="Read more",defaultVisibility:h=!1,hideCollapse:f=!1,button:p,className:y="",block:j=!1}=e,[g,v]=(0,d.useState)(h);return(0,n.jsx)("div",{ref:t,role:"alert",className:"".concat(j?"block w-full":"","\n      block w-full rounded-md border bg-surface-300/25 py-3 ").concat(y),children:(0,n.jsxs)("div",{className:"flex flex-col px-4",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex w-full space-x-3 items-center",children:[a&&(0,n.jsx)("span",{className:"text-foreground-lighter",children:a}),(0,n.jsx)("div",{className:"flex-grow",children:(0,n.jsx)("h5",{className:"text-sm text-foreground",children:i})})]}),u&&!f?(0,n.jsx)("div",{className:"cursor-pointer text-foreground-lighter",onClick:()=>v(!g),children:g?(0,n.jsx)(s.A,{size:14,strokeWidth:1.5}):(0,n.jsx)(r.A,{size:14,strokeWidth:1.5})}):null]}),(u||m||p)&&(0,n.jsxs)("div",{className:"flex flex-col space-y-3 overflow-hidden transition-all ".concat(g?"mt-3":""),style:{maxHeight:500*!!g},children:[(0,n.jsx)("div",{className:"text-foreground-light text-sm",children:u}),m&&(0,n.jsx)("div",{children:(0,n.jsx)(c.$,{asChild:!0,type:"default",icon:(0,n.jsx)(l.A,{}),children:(0,n.jsx)(o(),{href:m,target:"_blank",rel:"noreferrer",children:x})})}),p&&(0,n.jsx)("div",{children:p})]})]})})});u.displayName="InformationBox";let m=u},78036:(e,t,a)=>{a.d(t,{DE:()=>o,sj:()=>l,y9:()=>r});var n=a(80263),s=a(53239);let r=e=>{let{children:t,id:a,header:s,disabled:r,className:l}=e;return(0,n.jsxs)("div",{id:a,className:["grid grid-cols-12 gap-6 px-4 md:px-8 py-4 md:py-8","".concat(r?" opacity-30":" opacity-100"),"".concat(l)].join(" "),"data-sentry-component":"FormSection","data-sentry-source-file":"FormSection.tsx",children:[s,t]})},l=e=>{let{children:t,className:a="",description:s}=e;return void 0!==s?(0,n.jsxs)("div",{className:"flex flex-col space-y-2 col-span-12 lg:col-span-5 ".concat(a),children:[(0,n.jsx)("label",{className:"text-foreground text-sm",children:t}),s]}):(0,n.jsx)("label",{className:"text-foreground col-span-12 text-sm lg:col-span-5 ".concat(a),children:t})},i=()=>(0,n.jsxs)("div",{className:"flex w-full flex-col gap-2","data-sentry-component":"Shimmer","data-sentry-source-file":"FormSection.tsx",children:[(0,n.jsx)("div",{className:"shimmering-loader h-2 w-1/3 rounded"}),(0,n.jsx)("div",{className:"flex flex-col justify-between space-y-2",children:(0,n.jsx)("div",{className:"shimmering-loader h-[34px] w-2/3 rounded"})})]}),o=e=>{let{children:t,loading:a=!0,fullWidth:r,className:l}=e;return(0,n.jsx)("div",{className:"\n        relative col-span-12 flex flex-col gap-6 lg:col-span-7\n        ".concat(r&&"!col-span-12","\n        ").concat(l,"\n      "),"data-sentry-component":"FormSectionContent","data-sentry-source-file":"FormSection.tsx",children:a?s.Children.map(t,()=>(0,n.jsx)(i,{})):t})}},82892:(e,t,a)=>{a.d(t,{A:()=>n});let n=(0,a(23983).A)("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]])},88028:(e,t,a)=>{a.d(t,{f:()=>d});var n=a(80263),s=a(53434),r=a.n(s),l=a(78036),i=a(35212),o=a(16988);let d=e=>{let{selectedLog:t,onClose:a}=e;return(0,n.jsxs)(i.Ay,{size:"large",header:'"'.concat(null==t?void 0:t.action.name,'" on ').concat(r()(null==t?void 0:t.occurred_at).format("DD MMM YYYY, HH:mm:ss")),visible:void 0!==t,onCancel:a,cancelText:"Close","data-sentry-element":"SidePanel","data-sentry-component":"LogDetailsPanel","data-sentry-source-file":"LogDetailsPanel.tsx",children:[(0,n.jsx)(l.y9,{header:(0,n.jsx)(l.sj,{children:"General"}),"data-sentry-element":"FormSection","data-sentry-source-file":"LogDetailsPanel.tsx",children:(0,n.jsx)(l.DE,{loading:!1,"data-sentry-element":"FormSectionContent","data-sentry-source-file":"LogDetailsPanel.tsx",children:(0,n.jsx)(o.A,{readOnly:!0,size:"small",label:"Occurred at",value:null==t?void 0:t.occurred_at,descriptionText:r()(null==t?void 0:t.occurred_at).format("DD MMM YYYY, HH:mm:ss (ZZ)"),"data-sentry-element":"Input","data-sentry-source-file":"LogDetailsPanel.tsx"})})}),(0,n.jsx)(i.Ay.Separator,{"data-sentry-element":"unknown","data-sentry-source-file":"LogDetailsPanel.tsx"}),(0,n.jsx)(l.y9,{header:(0,n.jsx)(l.sj,{children:"Actor"}),"data-sentry-element":"FormSection","data-sentry-source-file":"LogDetailsPanel.tsx",children:(0,n.jsxs)(l.DE,{loading:!1,"data-sentry-element":"FormSectionContent","data-sentry-source-file":"LogDetailsPanel.tsx",children:[(0,n.jsx)(o.A,{readOnly:!0,size:"small",label:"Actor ID",value:null==t?void 0:t.actor.id,"data-sentry-element":"Input","data-sentry-source-file":"LogDetailsPanel.tsx"}),(0,n.jsx)(o.A.TextArea,{readOnly:!0,size:"small",label:"Metadata",rows:5,className:"input-mono input-xs",value:JSON.stringify(null==t?void 0:t.actor.metadata,null,2),"data-sentry-element":"unknown","data-sentry-source-file":"LogDetailsPanel.tsx"})]})}),(0,n.jsx)(i.Ay.Separator,{"data-sentry-element":"unknown","data-sentry-source-file":"LogDetailsPanel.tsx"}),(0,n.jsx)(l.y9,{header:(0,n.jsx)(l.sj,{children:"Action"}),"data-sentry-element":"FormSection","data-sentry-source-file":"LogDetailsPanel.tsx",children:(0,n.jsxs)(l.DE,{loading:!1,"data-sentry-element":"FormSectionContent","data-sentry-source-file":"LogDetailsPanel.tsx",children:[(0,n.jsx)(o.A,{readOnly:!0,size:"small",label:"Name",value:null==t?void 0:t.action.name,"data-sentry-element":"Input","data-sentry-source-file":"LogDetailsPanel.tsx"}),(0,n.jsx)(o.A.TextArea,{readOnly:!0,size:"small",label:"Metadata",rows:5,className:"input-mono input-xs",value:JSON.stringify(null==t?void 0:t.action.metadata,null,2),"data-sentry-element":"unknown","data-sentry-source-file":"LogDetailsPanel.tsx"})]})}),(0,n.jsx)(i.Ay.Separator,{"data-sentry-element":"unknown","data-sentry-source-file":"LogDetailsPanel.tsx"}),(0,n.jsx)(l.y9,{header:(0,n.jsx)(l.sj,{children:"Target"}),"data-sentry-element":"FormSection","data-sentry-source-file":"LogDetailsPanel.tsx",children:(0,n.jsxs)(l.DE,{loading:!1,"data-sentry-element":"FormSectionContent","data-sentry-source-file":"LogDetailsPanel.tsx",children:[(0,n.jsx)(o.A,{readOnly:!0,size:"small",label:"Name",value:null==t?void 0:t.target.description,"data-sentry-element":"Input","data-sentry-source-file":"LogDetailsPanel.tsx"}),(0,n.jsx)(o.A.TextArea,{readOnly:!0,size:"small",label:"Metadata",rows:5,className:"input-mono input-xs",value:JSON.stringify(null==t?void 0:t.target.metadata,null,2),"data-sentry-element":"unknown","data-sentry-source-file":"LogDetailsPanel.tsx"})]})})]})}},88608:(e,t,a)=>{a.d(t,{a:()=>i});var n=a(56947),s=a(24468),r=a(50237);async function l(){let{error:e,data:t}=await s.j2.mfa.listFactors();if(e)throw e;return t}let i=function(){let{enabled:e=!0,...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.I)(r.e.mfaFactors(),()=>l(),{staleTime:18e5,...t})}},91494:(e,t,a)=>{a.d(t,{I:()=>u});var n=a(80263),s=a(53239),r=a(95793),l=a(71126),i=a(51859),o=a(67585),d=a(9093),c=a(97380);let u=e=>{let{title:t,options:a=[],activeOptions:u=[],valueKey:m,labelKey:x,iconKey:h="icon",name:f="default",variant:p="rectangular",buttonType:y,disabled:j,labelClass:g,className:v,maxHeightClass:b="h-[205px]",clearButtonText:N="Clear",onSaveFilters:w}=e,[A,k]=(0,s.useState)(!1),[S,C]=(0,s.useState)([]),F=u.map(e=>{let t=a.find(t=>t[m]===e);return t&&t[x]?t[x]:""});return(0,s.useEffect)(()=>{!A&&u.length>0&&C(u)},[A,u]),(0,n.jsxs)(r.AM,{open:A,onOpenChange:k,"data-sentry-element":"Popover_Shadcn_","data-sentry-component":"FilterPopover","data-sentry-source-file":"FilterPopover.tsx",children:[(0,n.jsx)(r.Wv,{asChild:!0,"data-sentry-element":"PopoverTrigger_Shadcn_","data-sentry-source-file":"FilterPopover.tsx",children:(0,n.jsx)(l.$,{asChild:!0,disabled:j,type:null!=y?y:u.length>0?"default":"dashed",onClick:()=>k(!1),className:"rounded"===p?"rounded-full":"","data-sentry-element":"Button","data-sentry-source-file":"FilterPopover.tsx",children:(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{children:f}),u.length>0&&(0,n.jsx)("span",{className:"mr-1",children:":"}),u.length>=3?(0,n.jsxs)("span",{children:[F[0]," and ",u.length-1," others"]}):u.length>0?(0,n.jsx)("span",{children:F.join(", ")}):null]})})}),(0,n.jsxs)(r.hl,{className:(0,i.cn)("p-0 w-44",v),align:"start",portal:!0,"data-sentry-element":"PopoverContent_Shadcn_","data-sentry-source-file":"FilterPopover.tsx",children:[(0,n.jsx)("div",{className:"border-b border-overlay bg-surface-200 rounded-t pb-1 px-3",children:(0,n.jsx)("span",{className:"text-xs text-foreground-light",children:null!=t?t:"Select ".concat(f.toLowerCase())})}),(0,n.jsx)(o.FK,{className:a.length>7?b:"","data-sentry-element":"ScrollArea","data-sentry-source-file":"FilterPopover.tsx",children:(0,n.jsx)("div",{className:"p-3 flex flex-col gap-y-2",children:a.map(e=>{let t=e[m],a=h?e[h]:void 0;return(0,n.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,n.jsx)(d.S,{id:t,checked:S.includes(t),onCheckedChange:()=>{S.includes(t)?C(S.filter(e=>e!==t)):C(S.concat(t))}}),(0,n.jsxs)(c.J,{htmlFor:e[m],className:(0,i.cn)("flex items-center gap-x-2 text-xs",g),children:[a&&(0,n.jsx)("img",{src:a,alt:e[x],className:(0,i.cn)("w-4 h-4",e.iconClass)}),(0,n.jsx)("span",{children:e[x]})]})]},t)})})}),(0,n.jsxs)("div",{className:"flex items-center justify-end gap-2 border-t border-overlay bg-surface-200 py-2 px-3",children:[(0,n.jsx)(l.$,{size:"tiny",type:"default",onClick:()=>{w([]),C([]),k(!1)},"data-sentry-element":"Button","data-sentry-source-file":"FilterPopover.tsx",children:N}),(0,n.jsx)(l.$,{type:"primary",onClick:()=>{let e=a.map(e=>e[m]);w(S.sort((t,a)=>e.indexOf(t)-e.indexOf(a))),k(!1)},"data-sentry-element":"Button","data-sentry-source-file":"FilterPopover.tsx",children:"Save"})]})]})]})}},92287:(e,t,a)=>{a.d(t,{A:()=>n});let n=(0,a(23983).A)("OctagonAlert",[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]])}}]);