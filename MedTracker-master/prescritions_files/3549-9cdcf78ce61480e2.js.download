!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="f6188c71-c9c0-4e7d-ad3b-899bf70a440e",e._sentryDebugIdIdentifier="sentry-dbid-f6188c71-c9c0-4e7d-ad3b-899bf70a440e")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3549],{7560:(e,t,s)=>{s.d(t,{B:()=>o});var r=s(12056);let a={search:"",timestampStart:"",timestampEnd:"",filters:{}},l=e=>(0,r.Cp)({parse:t=>null!=t?t:e,serialize:e=>e||""}),n=e=>(0,r.Cp)({parse:t=>{if(!t)return e;try{return JSON.parse(t)}catch(t){return e}},serialize:e=>{if(!e)return"";try{return JSON.stringify(e)}catch(e){return""}}});function o(){let[e,t]=(0,r.ZA)("s",l(a.search)),[s,o]=(0,r.ZA)("its",l(a.timestampStart)),[i,d]=(0,r.ZA)("ite",l(a.timestampEnd)),[c,u]=(0,r.ZA)("log",l("")),[m,x]=(0,r.ZA)("f",n(a.filters)),f=e||a.search,p=s||a.timestampStart,g=i||a.timestampEnd,h=m||a.filters,y=e=>{t(e||a.search)},j=e=>{x(e||a.filters)};return{search:f,timestampStart:p,timestampEnd:g,selectedLogId:c||null,filters:h,setSearch:y,setTimeRange:(e,t)=>{o(e||a.timestampStart),d(t||a.timestampEnd)},setSelectedLogId:e=>{u(e||"")},setFilters:j,updateFilter:(e,t)=>{j({...h,[e]:t})},reset:()=>{y(a.search),o(a.timestampStart),d(a.timestampEnd),u(""),x(a.filters)}}}},21090:(e,t,s)=>{s.d(t,{A:()=>a});var r=s(80263);let a=e=>{let{children:t,active:s,className:a}=e;return(0,r.jsx)("div",{className:[a,"flex h-full flex-grow transition-opacity ",s?"opacity-30":"opacity-100"].join(" "),"data-sentry-component":"LoadingOpacity","data-sentry-source-file":"LoadingOpacity.tsx",children:t})}},29297:(e,t,s)=>{s.d(t,{CU:()=>d,Dv:()=>c,z6:()=>i});var r=s(80263),a=s(72342),l=s(3677),n=s(53239),o=s(51859);let i=n.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,r.jsx)(a.bL,{className:(0,o.cn)("grid gap-2",s),...l,ref:t})});i.displayName=a.bL.displayName;let d=n.forwardRef((e,t)=>{let{className:s,children:n,...i}=e;return(0,r.jsx)(a.q7,{ref:t,className:(0,o.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),...i,children:(0,r.jsx)(a.C1,{className:"flex items-center justify-center",children:(0,r.jsx)(l.A,{className:"h-2.5 w-2.5 fill-current text-current"})})})});d.displayName=a.q7.displayName;let c=n.forwardRef((e,t)=>{let{image:s,label:l,showIndicator:n=!0,...i}=e;return(0,r.jsxs)(a.q7,{ref:t,...i,className:(0,o.cn)("flex flex-col gap-2","w-48","bg-surface-200","rounded-md border border-strong","p-2","shadow-sm","hover:border-stronger hover:bg-surface-300","data-[state=checked]:border-primary","data-[state=checked]:ring-1 data-[state=checked]:ring-border","data-[state=checked]:bg-selection data-[state=checked]:border-foreground","transition-colors","group",i.className),children:[i.children,(0,r.jsxs)("div",{className:"flex gap-2 w-full",children:[n&&(0,r.jsxs)("div",{className:"relative w-3 h-3 min-w-3 mt-0.5",children:[(0,r.jsx)(a.C1,{className:(0,o.cn)("absolute","w-[10px] h-[10px]","left-[1px] top-[1px]","border border-background-surface-300","rounded-full","data-[state=checked]:border-background-surface-300","data-[state=checked]:ring-foreground","data-[state=checked]:bg-foreground")}),(0,r.jsx)("div",{className:(0,o.cn)("absolute","w-3 h-3","border border-stronger","rounded-full","group-hover:border-foreground-light","group-data-[state=checked]:border-foreground","transition-colors")})]}),(0,r.jsx)("label",{htmlFor:i.value,className:(0,o.cn)("text-xs transition-colors text-left","text-light","group-hover:text-foreground group-data-[state=checked]:text-foreground",i.disabled?"cursor-not-allowed":"cursor-pointer"),children:l})]})]})});c.displayName=a.q7.displayName},39049:(e,t,s)=>{s.d(t,{T5:()=>o,YN:()=>c,_2:()=>u,gl:()=>i,vm:()=>d});var r=s(80263);s(14430),s(53239),s(59686);var a=s(55866),l=s(3073);s(53434);var n=s(51859);let o=e=>{let{children:t}=e;return(0,r.jsx)("div",{className:"flex h-full w-full items-center gap-4","data-sentry-component":"RowLayout","data-sentry-source-file":"LogsFormatters.tsx",children:t})},i=e=>{let{value:t,className:s}=e;return(0,r.jsx)("span",{className:(0,n.cn)("font-mono text-xs truncate select-text cursor-text",s),"data-sentry-component":"TextFormatter","data-sentry-source-file":"LogsFormatters.tsx",children:t})},d=e=>{let{value:t}=e;if(!t)return(0,r.jsx)("div",{children:(0,r.jsx)("label",{className:"text-xs text-border-stronger",children:"No data"})});let s=e=>{let{children:t,className:s}=e;return(0,r.jsx)("div",{className:"flex h-full items-center","data-sentry-component":"ResponseCodeItem","data-sentry-source-file":"LogsFormatters.tsx",children:(0,r.jsx)("div",{className:(0,n.cn)("relative flex h-6 items-center rounded-md justify-center px-2 py-1 text-center",s),children:(0,r.jsx)("label",{className:"block font-mono text-sm",children:t})})})};switch(t.toString().split("")[0]){case"1":return(0,r.jsx)(s,{children:t});case"2":return(0,r.jsx)(s,{className:"bg-surface-100 text-brand",children:t});case"5":return(0,r.jsx)(s,{className:"bg-red-300 text-red-1100",children:t});case"4":case"3":return(0,r.jsx)(s,{className:"bg-amber-300 text-amber-1100",children:t});default:return(0,r.jsx)(s,{className:"bg-surface-100 text-foreground-lighter",children:t})}},c=e=>{let{value:t,uppercase:s=!0}=e;if(!t)return(0,r.jsx)("div",{children:(0,r.jsx)("label",{className:"text-xs text-border-stronger",children:"No data"})});let n=t.toUpperCase(),o=s?n:t,i=e=>{let{className:t,children:s}=e;return(0,r.jsx)("div",{className:"w-24 flex items-center h-full ".concat(t),"data-sentry-component":"Layout","data-sentry-source-file":"LogsFormatters.tsx",children:s})};switch(n){case"UNCAUGHTEXCEPTION":case"PANIC":case"FATAL":case"ERROR":return(0,r.jsxs)(i,{className:"gap-1",children:[(0,r.jsx)("div",{className:" p-0.5 rounded !text-red-900",children:(0,r.jsx)(a.A,{size:14,strokeWidth:2})}),(0,r.jsx)("span",{className:"!text-red-900 !block titlecase",children:o})]});case"INFO":case"DEBUG":return(0,r.jsxs)(i,{className:"gap-1",children:[(0,r.jsx)("div",{className:" p-0.5 rounded !text-blue-900",children:(0,r.jsx)(a.A,{size:14,strokeWidth:2})}),(0,r.jsx)("span",{className:"!text-blue-900 !block titlecase",children:o})]});case"LOG":return(0,r.jsxs)(i,{className:"gap-1",children:[(0,r.jsx)("div",{className:" p-0.5 rounded !text-blue-900",children:(0,r.jsx)(l.A,{size:14,strokeWidth:2})}),(0,r.jsx)("span",{className:"!text-blue-900 !block titlecase",children:o})]});case"WARNING":return(0,r.jsxs)(i,{className:"gap-1",children:[(0,r.jsx)("div",{className:" p-0.5 rounded !text-amber-900",children:(0,r.jsx)(a.A,{size:14,strokeWidth:2})}),(0,r.jsx)("span",{className:"!text-amber-900 !block titlecase",children:o})]});default:return(0,r.jsx)(i,{children:(0,r.jsx)("div",{className:"relative rounded px-2 py-1 text-center h-6 flex justify-center items-center bg-surface-100",children:(0,r.jsx)("label",{className:"block font-mono text-sm text-foreground-lighter",children:o})})})}};function u(e){let t=JSON.stringify(e,null,2);return(t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")).replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,function(e){var t="number text-tomato-900";return/^"/.test(e)?t=/:$/.test(e)?"key text-foreground":"string text-brand-600":/true|false/.test(e)?t="boolean text-blue-900":/null/.test(e)&&(t="null text-amber-1100"),'<span class="'+t+'">'+e+"</span>"}).split("\n").map(e=>'<span class="line text-xs">'.concat(e,"</span>")).join("\n")}},68557:(e,t,s)=>{s.d(t,{K:()=>g,T:()=>j});var r=s(80263),a=s(53239),l=s(51527),n=s(51859),o=s(16632),i=s(53434),d=s.n(i),c=s(27344),u=s.n(c),m=s(37361),x=s.n(m);d().extend(u()),d().extend(x());let f=e=>d().unix(Number(e)/1e3/1e3).toISOString(),p=e=>{let t=16===String(e).length;return!Number.isNaN(Number(e))&&t},g=e=>{let{utcTimestamp:t,format:s}=e,r=p(t)?f(t):t;return d().utc(r).local().format(s)},h=e=>{let{utcTimestamp:t,format:s}=e,r=p(t)?f(t):t;return d().utc(r).format(s)},y=e=>{let{utcTimestamp:t}=e,s=p(t)?f(t):t;return d().utc(s).fromNow()},j=e=>{let{utcTimestamp:t,className:s,displayAs:i="local",format:d="DD MMM  HH:mm:ss",labelFormat:c="DD MMM HH:mm:ss"}=e,u=g({utcTimestamp:t,format:d}),m=h({utcTimestamp:t,format:d}),x=y({utcTimestamp:t}),[f,p]=(0,a.useState)("start"),j=(0,a.useRef)(null),v=Intl.DateTimeFormat().resolvedOptions().timeZone;(0,a.useEffect)(()=>{let e=()=>{if(j.current){let e=j.current.getBoundingClientRect(),t=window.innerHeight;p(e.top<t/2?"start":"end")}};return e(),window.addEventListener("scroll",e),window.addEventListener("resize",e),()=>{window.removeEventListener("scroll",e),window.removeEventListener("resize",e)}},[]);let w=e=>{let{label:t,value:s}=e,[o,i]=(0,a.useState)(!1);return(0,r.jsxs)("div",{onPointerDown:e=>{e.stopPropagation()},onMouseDown:e=>{e.stopPropagation()},onClick:e=>{e.stopPropagation(),e.preventDefault(),(0,l.l)(s,()=>{i(!0),setTimeout(()=>{i(!1)},1e3)})},className:(0,n.cn)("relative cursor-pointer flex gap-y-2 gap-x-0.5 hover:bg-surface-100 px-2 py-1 group",{"bg-surface-100":o}),"data-sentry-component":"TooltipRow","data-sentry-source-file":"index.tsx",children:[(0,r.jsxs)("div",{className:"flex items-center gap-x-2 text-left truncate",children:[(0,r.jsx)("p",{children:t}),(0,r.jsx)("div",{className:"border-t w-full border-dashed"})]}),(0,r.jsxs)("div",{className:"relative flex items-center gap-x-2 flex-grow",children:[(0,r.jsx)("div",{className:"border-t w-full border-dashed z-10"}),o&&(0,r.jsx)("span",{className:"flex items-center justify-end w-full absolute inset-0 flex items-right text-brand-600 bg-surface-100",children:"Copied!"}),(0,r.jsx)("span",{className:"flex items-center gap-x-2 justify-end whitespace-nowrap",children:s})]})]})};return(0,r.jsxs)(o.m_,{"data-sentry-element":"Tooltip","data-sentry-component":"TimestampInfo","data-sentry-source-file":"index.tsx",children:[(0,r.jsx)(o.k$,{asChild:!0,ref:j,className:"text-xs ".concat(s," border-b border-transparent hover:border-dashed hover:border-foreground-light"),"data-sentry-element":"TooltipTrigger","data-sentry-source-file":"index.tsx",children:(0,r.jsx)("span",{children:"local"===i?g({utcTimestamp:t,format:c}):h({utcTimestamp:t,format:c})})}),(0,r.jsxs)(o.ZI,{align:f,side:"right",className:"font-mono p-0 py-1 min-w-80","data-sentry-element":"TooltipContent","data-sentry-source-file":"index.tsx",children:[(0,r.jsx)(w,{label:"UTC",value:m,"data-sentry-element":"TooltipRow","data-sentry-source-file":"index.tsx"}),(0,r.jsx)(w,{label:v,value:u,"data-sentry-element":"TooltipRow","data-sentry-source-file":"index.tsx"}),(0,r.jsx)(w,{label:"Relative",value:x,"data-sentry-element":"TooltipRow","data-sentry-source-file":"index.tsx"}),(0,r.jsx)(w,{label:"Timestamp",value:String(t),"data-sentry-element":"TooltipRow","data-sentry-source-file":"index.tsx"})]})]})}},70148:(e,t,s)=>{s.d(t,{A:()=>eo});var r=s(80263),a=s(60045),l=s(84305),n=s.n(l),o=s(72078),i=s(3762),d=s(71203),c=s(99709),u=s(53239),m=s(9711),x=s(24560),f=s(37034),p=s(19898),g=s(41370),h=s(92737),y=s(72706),j=s(77227),v=s(2057),w=s(51527),b=s(51859),N=s(71126),S=s(20401),k=s(39049),D=s(68557);let T=e=>(0,r.jsxs)(k.T5,{"data-sentry-element":"RowLayout","data-sentry-component":"defaultRenderCell","data-sentry-source-file":"DefaultPreviewColumnRenderer.tsx",children:[(0,r.jsx)(D.T,{utcTimestamp:e.row.timestamp,"data-sentry-element":"TimestampInfo","data-sentry-source-file":"DefaultPreviewColumnRenderer.tsx"}),(0,r.jsx)(k.gl,{className:"w-full",value:e.row.event_message,"data-sentry-element":"TextFormatter","data-sentry-source-file":"DefaultPreviewColumnRenderer.tsx"})]}),C=[{name:"default-preview-first-column",key:"default-preview-first-column",renderCell:T}],R=[{name:"auth-first-column",key:"auth-first-column",renderCell:e=>{var t;return e.row.level?(0,r.jsxs)(k.T5,{children:[(0,r.jsx)(D.T,{utcTimestamp:e.row.timestamp}),e.row.level&&(0,r.jsx)(k.YN,{value:e.row.level}),(0,r.jsx)(k.gl,{className:"w-full",value:"".concat(e.row.path?e.row.path+" | ":"").concat((null==(t=e.row.msg)?void 0:t.trim())||e.row.event_message)})]}):T(e)}}],L=[{name:"database-api-first-column",key:"database-api-first-column",renderCell:e=>e.row.status_code||e.row.method||e.row.path?(0,r.jsxs)(k.T5,{children:[(0,r.jsx)(D.T,{utcTimestamp:e.row.timestamp}),(0,r.jsx)(k.vm,{value:String(e.row.status_code)}),(0,r.jsx)(k.gl,{value:String(e.row.method)}),(0,r.jsx)(k.gl,{value:String(e.row.path)})]}):T(e)}],E=[{name:"database-postgres-first-column",key:"database-postgres-first-column",renderCell:e=>e.row.error_severity?(0,r.jsxs)(k.T5,{children:[(0,r.jsx)(D.T,{utcTimestamp:e.row.timestamp}),(0,r.jsx)(k.YN,{value:e.row.error_severity}),(0,r.jsx)(k.gl,{className:"w-full",value:e.row.event_message}),e.row.detail?(0,r.jsx)(k.gl,{value:e.row.detail}):null,e.row.hint?(0,r.jsx)(k.gl,{value:e.row.hint}):null]}):T(e)}],_=[{name:"functions-edge-first-column",key:"functions-edge-first-column",renderCell:e=>e.row.status_code||e.row.method?(0,r.jsxs)(k.T5,{children:[(0,r.jsx)(D.T,{utcTimestamp:e.row.timestamp}),(0,r.jsx)(k.vm,{value:String(e.row.status_code)}),(0,r.jsx)(k.gl,{value:String(e.row.method)}),(0,r.jsx)(k.gl,{value:String(e.row.id)})]}):T(e)}],A=[{name:"functions-logs-first-column",key:"functions-logs-first-column",renderCell:e=>e.row.event_type||e.row.level?(0,r.jsxs)(k.T5,{children:[(0,r.jsx)(D.T,{utcTimestamp:e.row.timestamp}),"uncaughtException"===e.row.event_type?(0,r.jsx)(k.YN,{value:e.row.event_type,uppercase:!1}):(0,r.jsx)(k.YN,{value:e.row.level}),(0,r.jsx)(k.gl,{className:"w-full",value:e.row.event_message})]}):T(e)}];var H=s(44679),M=s(62763),P=s(37093),z=s(84746),O=s(64940),I=s(49655),B=s(7560),J=s(73969),F=s(22979),q=s(74115);let W=e=>{let{value:t,className:s}=e;return(0,r.jsx)("pre",{className:(0,b.cn)("px-1 bg-surface-300 w-full pt-1 max-w-full border-none text-xs prose-sm transition-all overflow-auto rounded-md",s),"data-sentry-component":"LogRowCodeBlock","data-sentry-source-file":"DefaultPreviewSelectionRenderer.tsx",children:JSON.stringify(t,null,2)})},$=()=>(0,r.jsx)(F.w,{className:"bg-border my-1","data-sentry-element":"Separator","data-sentry-component":"LogRowSeparator","data-sentry-source-file":"DefaultPreviewSelectionRenderer.tsx"}),G=e=>{let{keyName:t,value:s,dataTestId:a}=e,{setSearch:l}=(0,B.B)(),n=async(e,t)=>{let{query:s}=t;l(s||"")},o="timestamp"===t||"created_at"===t||"updated_at"===t,i="object"==typeof s&&null!==s,d="status"===t||"status_code"===t,c="method"===t,m="path"===t,x="user_agent"===t,f="log-viewer-expanded-".concat(t),[p,g]=(0,u.useState)(()=>{try{var e;return JSON.parse(null!=(e=localStorage.getItem(f))?e:"false")}catch(e){return!1}}),[h,y]=(0,u.useState)(!1);return((0,u.useEffect)(()=>{localStorage.setItem(f,JSON.stringify(p))},[p,f]),i)?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,r.jsx)("h3",{className:"text-foreground-lighter text-sm pl-3 py-2",children:t}),(0,r.jsxs)("div",{children:[(0,r.jsx)(W,{className:(0,b.cn)("px-2.5",{"max-h-[80px]":!p,"max-h-[400px]":p}),value:s}),(0,r.jsx)(N.$,{className:"mt-1 w-full",size:"tiny",type:"outline",onClick:()=>g(!p),children:p?"Collapse":"Expand"})]})]}),(0,r.jsx)($,{})]}):(0,r.jsxs)(q.rI,{"data-sentry-element":"DropdownMenu","data-sentry-component":"PropertyRow","data-sentry-source-file":"DefaultPreviewSelectionRenderer.tsx",children:[(0,r.jsx)(q.ty,{className:"group w-full","data-testid":a,"data-sentry-element":"DropdownMenuTrigger","data-sentry-source-file":"DefaultPreviewSelectionRenderer.tsx",children:(0,r.jsx)("div",{className:"rounded-md w-full overflow-hidden",children:(0,r.jsxs)("div",{className:(0,b.cn)("flex h-10 w-full",{"flex-col gap-1.5 h-auto":p,"items-center group-hover:bg-surface-300 gap-4":!p}),children:[(0,r.jsx)("h3",{className:(0,b.cn)("pl-3 text-foreground-lighter text-sm text-left",{"h-10 flex items-center":p}),children:t}),(0,r.jsx)("div",{className:(0,b.cn)("text-xs flex-1 font-mono text-foreground pr-3",{"max-w-full text-left rounded-md p-2 bg-surface-300 text-xs w-full":p,"truncate text-right":!p,"text-brand-600":h}),children:p?(0,r.jsx)(W,{value:s}):o?(0,r.jsx)(D.T,{className:"text-sm",utcTimestamp:s}):d||c?(0,r.jsx)("div",{className:"flex items-center gap-1 justify-end",children:(0,r.jsx)(k.vm,{value:s})}):(0,r.jsx)("div",{className:"truncate",children:JSON.stringify(s)})})]})})}),(0,r.jsxs)(q.SQ,{align:"start","data-sentry-element":"DropdownMenuContent","data-sentry-source-file":"DefaultPreviewSelectionRenderer.tsx",children:[(0,r.jsxs)(q._2,{onClick:()=>{(0,w.l)(String(s),()=>{y(!0),J.oR.success("Copied to clipboard")}),setTimeout(()=>{y(!1)},1e3)},"data-sentry-element":"DropdownMenuItem","data-sentry-source-file":"DefaultPreviewSelectionRenderer.tsx",children:["Copy ",t]}),!i&&(0,r.jsxs)(q._2,{onClick:()=>{g(!p)},children:[p?"Collapse":"Expand"," value"]}),(m||c||x||d)&&(0,r.jsxs)(q._2,{onClick:()=>{n("search-input-change",{query:s})},children:["Search by ",t]})]}),(0,r.jsx)($,{"data-sentry-element":"LogRowSeparator","data-sentry-source-file":"DefaultPreviewSelectionRenderer.tsx"})]})},U=e=>{var t,s;let{log:a}=e,{timestamp:l,event_message:n,metadata:o,id:i,status:d,...c}=a,u=null==a||null==(s=a.metadata)||null==(t=s[0])?void 0:t.log_file;return(0,r.jsxs)("div",{"data-testid":"log-selection",className:"p-2 flex flex-col","data-sentry-component":"DefaultPreviewSelectionRenderer","data-sentry-source-file":"DefaultPreviewSelectionRenderer.tsx",children:[(null==a?void 0:a.id)&&(0,r.jsx)(G,{dataTestId:"log-selection-id",keyName:"id",value:a.id},"id"),(null==a?void 0:a.status)&&(0,r.jsx)(G,{keyName:"status",value:a.status},"status"),(null==a?void 0:a.timestamp)&&(0,r.jsx)(G,{keyName:"timestamp",value:a.timestamp},"timestamp"),Object.entries(c).map(e=>{let[t,s]=e;return(0,r.jsx)(G,{keyName:t,value:s},t)}),(null==a?void 0:a.event_message)&&(0,r.jsx)(G,{keyName:"event_message",value:a.event_message},"event_message"),!!u&&(0,r.jsx)(G,{keyName:"log_file",value:u},"log_file"),(null==a?void 0:a.metadata)&&(0,r.jsx)(G,{keyName:"metadata",value:a.metadata},"metadata")]})};var Y=s(59686);let V=e=>{let{log:t,onClose:s,queryType:a,isLoading:l,error:n}=e,[o,i]=(0,u.useState)(!1);return(0,u.useEffect)(()=>{if(!o)return;let e=setTimeout(()=>i(!1),2e3);return()=>clearTimeout(e)},[o]),(0,r.jsx)("div",{className:"relative flex h-full flex-grow flex-col overflow-y-scroll bg-surface-100 border-t","data-sentry-component":"LogSelection","data-sentry-source-file":"LogSelection.tsx",children:(0,r.jsx)("div",{className:"relative flex-grow flex flex-col h-full",children:(0,r.jsxs)(z.tU,{defaultValue:"details",className:"flex flex-col h-full","data-sentry-element":"Tabs_Shadcn_","data-sentry-source-file":"LogSelection.tsx",children:[(0,r.jsxs)(z.j7,{className:"px-2 pt-2 relative","data-sentry-element":"TabsList_Shadcn_","data-sentry-source-file":"LogSelection.tsx",children:[(0,r.jsx)(z.Xi,{className:"px-3",value:"details","data-sentry-element":"TabsTrigger_Shadcn_","data-sentry-source-file":"LogSelection.tsx",children:"Details"}),(0,r.jsx)(z.Xi,{disabled:!t,className:"px-3",value:"raw","data-sentry-element":"TabsTrigger_Shadcn_","data-sentry-source-file":"LogSelection.tsx",children:"Raw"}),(0,r.jsxs)("div",{className:"*:px-1.5 *:text-foreground-lighter ml-auto flex gap-1 absolute right-2 top-2",children:[(0,r.jsx)(g.G,{disabled:!t||l,type:"text",tooltip:{content:{text:l?"Loading log...":"Copy as JSON"}},onClick:()=>{i(!0),(0,w.l)(JSON.stringify(t,null,2))},"data-sentry-element":"ButtonTooltip","data-sentry-source-file":"LogSelection.tsx",children:o?(0,r.jsx)(H.A,{size:14,strokeWidth:2}):(0,r.jsx)(c.A,{size:14,strokeWidth:2})}),(0,r.jsx)(N.$,{type:"text",onClick:s,"data-sentry-element":"Button","data-sentry-source-file":"LogSelection.tsx",children:(0,r.jsx)(M.A,{size:14,strokeWidth:2,"data-sentry-element":"X","data-sentry-source-file":"LogSelection.tsx"})})]})]}),(0,r.jsx)("div",{className:"flex-1 h-full",children:l?(0,r.jsx)("div",{className:"p-4",children:(0,r.jsx)(I.y,{})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(z.av,{className:"space-y-6 h-full",value:"details",children:(0,r.jsx)(()=>{var e,s,l,o,i,d,c,u,m,x,f,p,g,h,y,j,v,w,b,N,S,k,D,T,C,R,L,E,_,A,H,M,P,z,O;if(n)return(0,r.jsx)(K,{error:n});if(!t)return(0,r.jsx)(Z,{});switch(a){case"api":let I=null==t||null==(o=t.metadata)||null==(l=o[0])||null==(s=l.response)||null==(e=s[0])?void 0:e.status_code,B=null==t||null==(u=t.metadata)||null==(c=u[0])||null==(d=c.request)||null==(i=d[0])?void 0:i.method,J=null==t||null==(p=t.metadata)||null==(f=p[0])||null==(x=f.request)||null==(m=x[0])?void 0:m.path,F=null==t||null==(j=t.metadata)||null==(y=j[0])||null==(h=y.request)||null==(g=h[0])?void 0:g.headers[0].user_agent,q=null==t||null==(k=t.metadata)||null==(S=k[0])||null==(N=S.response)||null==(b=N[0])||null==(w=b.headers)||null==(v=w[0])?void 0:v.x_sb_error_code,W=null!=(D=(0,Y.$f)(null==t?void 0:t.metadata))?D:(0,Y.Kz)(null==t?void 0:t.metadata),$=(0,Y.JC)(null==t?void 0:t.metadata),{id:G,metadata:V,timestamp:Q,event_message:X,...ee}=t,et={id:G,status:I,method:B,path:J,user_agent:F,timestamp:Q,event_message:X,metadata:V,...W?{apikey:W}:null,...q?{error_code:q}:null,...$?{role:$}:null,...ee};return(0,r.jsx)(U,{log:et});case"database":let es=null==t||null==(L=t.metadata)||null==(R=L[0])||null==(C=R.parsed)||null==(T=C[0])?void 0:T.hint,er=null==t||null==(H=t.metadata)||null==(A=H[0])||null==(_=A.parsed)||null==(E=_[0])?void 0:E.detail,ea=null==t||null==(O=t.metadata)||null==(z=O[0])||null==(P=z.parsed)||null==(M=P[0])?void 0:M.query,el={...es&&{hint:es},...er&&{detail:er},...ea&&{query:ea},...t};return(0,r.jsx)(U,{log:el});default:return(0,r.jsx)(U,{log:t})}},{})}),(0,r.jsx)(z.av,{value:"raw",children:(0,r.jsx)(O.N,{hideLineNumbers:!0,language:"json",className:"prose w-full pt-0 max-w-full border-none",children:JSON.stringify(t,null,2)})})]})})]})})})};function Z(e){let{title:t="Select an Event",message:s="Select an Event to view the complete JSON payload"}=e;return(0,r.jsx)("div",{className:(0,b.cn)("flex h-full w-full flex-col items-center justify-center gap-2 overflow-y-scroll text-center transition-all px-4"),"data-sentry-component":"LogDetailEmptyState","data-sentry-source-file":"LogSelection.tsx",children:(0,r.jsxs)("div",{className:(0,b.cn)("flex w-full max-w-sm flex-col items-center justify-center gap-6 text-center transition-all delay-300 duration-500"),children:[(0,r.jsxs)("div",{className:"relative flex h-4 w-32 items-center rounded border border-control px-2",children:[(0,r.jsx)("div",{className:"h-0.5 w-2/3 rounded-full bg-surface-300"}),(0,r.jsx)("div",{className:"absolute right-1 -bottom-4",children:(0,r.jsx)(P.A,{size:"24",strokeWidth:1,"data-sentry-element":"MousePointerClick","data-sentry-source-file":"LogSelection.tsx"})})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,r.jsx)("h3",{className:"text-sm text-foreground",children:t}),(0,r.jsx)("p",{className:"text-xs text-foreground-lighter",children:s})]})]})})}function K(e){let{error:t}=e;return(0,r.jsx)("pre",{"data-sentry-component":"LogErrorState","data-sentry-source-file":"LogSelection.tsx",children:JSON.stringify(t,null,2)})}let Q=e=>{let{error:t}=e;return(0,r.jsx)("div",{className:"w-full prose min-w-full text-foreground text-sm","data-sentry-component":"DefaultErrorRenderer","data-sentry-source-file":"DefaultErrorRenderer.tsx",children:(0,r.jsx)(O.N,{title:"Error fetching logs",language:"json",hideLineNumbers:!0,value:"string"==typeof t?t:JSON.stringify(t,null,2),className:"w-full font-mono","data-sentry-element":"CodeBlock","data-sentry-source-file":"DefaultErrorRenderer.tsx"})})};var X=s(69751),ee=s(62659),et=s(16865);let es=(0,u.createContext)({chevronAlign:"left",justified:!0,type:"default"});function er(e){let{children:t,className:s,onChange:a,openBehaviour:l="multiple",type:n="default",defaultValue:o,justified:i=!1,chevronAlign:d="left"}=e,c=[(0,et.A)("accordion").variants[n].base];return s&&c.push(s),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(X.bL,{type:l,onValueChange:function(e){a&&a(e),e==typeof String&&e.split(" ")},defaultValue:o,className:c.join(" "),"data-sentry-element":"unknown","data-sentry-source-file":"Accordion.tsx",children:(0,r.jsx)(es.Provider,{value:{chevronAlign:d,justified:i,type:n,defaultValue:o},"data-sentry-element":"unknown","data-sentry-source-file":"Accordion.tsx",children:(0,r.jsx)("div",{children:t})})})})}er.Item=function(e){let{children:t,className:s,header:a,id:l,disabled:n}=e,o=(0,et.A)("accordion"),[i,d]=(0,u.useState)(!1),{type:c,justified:m,chevronAlign:x}=(0,u.useContext)(es),f=[o.variants[c].trigger];m&&f.push(o.justified),s&&f.push(s);let p=[o.chevron.base,o.chevron.align[x]];return i&&!n&&p.unshift("!rotate-180"),(0,r.jsxs)(X.q7,{value:l,className:o.variants[c].container,disabled:n,onClick:()=>{d(!i)},"data-sentry-element":"unknown","data-sentry-component":"Item","data-sentry-source-file":"Accordion.tsx",children:[(0,r.jsxs)(X.l9,{className:f.join(" "),"data-sentry-element":"unknown","data-sentry-source-file":"Accordion.tsx",children:[a,!n&&(0,r.jsx)(ee.A,{"aria-hidden":!0,className:p.join(" "),strokeWidth:2})]}),(0,r.jsx)(X.UC,{className:o.variants[c].content,"data-sentry-element":"unknown","data-sentry-source-file":"Accordion.tsx",children:(0,r.jsx)("div",{className:o.variants[c].panel,children:t})})]})};var ea=s(16988);let el=e=>{let{error:t,isCustomQuery:s}=e;return(0,r.jsxs)("div",{className:"flex flex-col gap-2 text-foreground-light","data-sentry-component":"ResourcesExceededErrorRenderer","data-sentry-source-file":"ResourcesExceededErrorRenderer.tsx",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-1 text-sm",children:[(0,r.jsx)("p",{children:"This query requires too much memory to be executed."}),(0,r.jsx)("p",{children:s?"Avoid selecting entire objects and instead select specific keys using dot notation.":"Avoid querying across a large datetime range."}),!s&&(0,r.jsx)("p",{children:"Please contact support if this error persists."})]}),(0,r.jsx)(er,{className:"text-sm",justified:!1,openBehaviour:"multiple",type:"default",chevronAlign:"left",size:"small",iconPosition:"left","data-sentry-element":"Accordion","data-sentry-source-file":"ResourcesExceededErrorRenderer.tsx",children:(0,r.jsx)(er.Item,{id:"1",header:"Full error message","data-sentry-element":"unknown","data-sentry-source-file":"ResourcesExceededErrorRenderer.tsx",children:(0,r.jsx)(ea.A.TextArea,{size:"tiny",value:JSON.stringify(t,null,2),borderless:!0,className:"mt-4 w-full font-mono",copy:!0,rows:5,"data-sentry-element":"unknown","data-sentry-source-file":"ResourcesExceededErrorRenderer.tsx"})})})]})};var en=s(74738);let eo=e=>{let{data:t=[],queryType:s,onHistogramToggle:l,isHistogramShowing:k,isLoading:D,isSaving:T,error:H,projectRef:M,onRun:P,onSave:z,hasEditorValue:O,className:I,collectionName:B,EmptyState:F,showHeader:q=!0,showHistogramToggle:W=!0,selectedLog:$,isSelectedLogLoading:G,selectedLogError:U,onSelectedLogChange:Z}=e,{ref:K}=(0,p.g)(),{profile:X}=(0,v.xc)(),[ee]=(0,y.t)(),{show:et}=(0,m.EF)(),[es,er]=(0,u.useState)(),[ea,eo]=(0,u.useState)(!1),[ei,ed]=(0,u.useState)(null),ec=(0,j.SE)(a.aG.CREATE,"user_content",{resource:{type:"log_sql",owner_id:null==X?void 0:X.id},subject:{id:null==X?void 0:X.id}}),eu=t[0],em=Object.keys(function(){if(!eu)return{};let{timestamp:e,...t}=eu;return e?{timestamp:e,...t}:eu}()||{}),ex=em.includes("id"),ef=em.includes("timestamp"),ep="logs-explorer-context-menu",eg=em.map((e,t)=>({key:"logs-column-".concat(t),name:e,resizable:!0,renderCell:t=>{let{row:s}=t;return(0,r.jsx)("span",{onContextMenu:t=>{t.preventDefault(),er({row:s,column:{name:e}}),et(t,{id:ep})},children:eb(null==s?void 0:s[e])})},renderHeaderCell:t=>(0,r.jsx)("div",{className:"flex items-center",children:e}),minWidth:128})),eh=eg;if(s)switch(s){case"warehouse":eh=eg;break;case"api":eh=L;break;case"database":case"pg_cron":eh=E;break;case"fn_edge":eh=_;break;case"functions":eh=A;break;case"auth":eh=R;break;default:eh=eu&&(0,Y.Nd)(eu)?C:eg}let[ey,ej]=(0,u.useMemo)(()=>{let e=[...new Set(t)];if(!ex)return[e,{}];let s=e.reduce((e,t)=>(e[t.id]=t,e),{});return[e,s]},[t,ex]),ev=(0,u.useMemo)(()=>ex&&ef?Object.values(ej).sort((e,t)=>t.timestamp-e.timestamp):ey,[ey,ex,ef,ej]),ew=(0,u.useCallback)((e,t)=>(0,r.jsx)(x.fI,{...t,isRowSelected:!1,selectedCellIdx:void 0,onContextMenu:e=>{eh.length>0&&er({row:t.row,column:eh[0]}),et(e,{id:ep})}},e),[eh,et]),eb=e=>e&&"object"==typeof e?JSON.stringify(e):null===e?"NULL":String(e);function eN(e){ed(e),null==Z||Z(e)}let eS=(0,u.useCallback)(e=>{if(!ev.length||!ei)return;let t=ev.findIndex(e=>n()(e,ei));-1!==t&&("ArrowUp"===e.key&&t>0?eN(ev[t-1]):"ArrowDown"===e.key&&t<ev.length-1&&eN(ev[t+1]))},[ev,ei,eN]);return((0,u.useEffect)(()=>{($||G)&&eo(!0),G||$||ed(null)},[$,G]),(0,u.useEffect)(()=>(window.addEventListener("keydown",eS),()=>{window.removeEventListener("keydown",eS)}),[eS]),(0,u.useEffect)(()=>{if(!D&&!ei){let e=t.find(e=>e.id===ee);e&&ed(e)}},[D]),t)?(0,r.jsxs)("section",{className:"h-full flex w-full flex-col flex-1","data-sentry-component":"LogTable","data-sentry-source-file":"LogTable.tsx",children:[!s&&(0,r.jsx)(()=>(0,r.jsxs)("div",{className:(0,b.cn)("flex w-full items-center justify-between border-t bg-surface-100 px-5 py-2",I,{hidden:!q}),"data-sentry-component":"LogsExplorerTableHeader","data-sentry-source-file":"LogTable.tsx",children:[(0,r.jsx)("div",{className:"flex items-center gap-2",children:(0,r.jsx)(h.b,{type:"text",text:"Results ".concat(t&&t.length?"(".concat(t.length,")"):""),results:t,fileName:"supabase-logs-".concat(K,".csv"),"data-sentry-element":"DownloadResultsButton","data-sentry-source-file":"LogTable.tsx"})}),W&&(0,r.jsx)("div",{className:"flex items-center gap-2",children:(0,r.jsx)(N.$,{type:"default",icon:k?(0,r.jsx)(o.A,{}):(0,r.jsx)(i.A,{}),onClick:l,children:"Histogram"})}),(0,r.jsxs)("div",{className:"space-x-2",children:[p.pe&&(0,r.jsx)(g.G,{type:"default",onClick:z,loading:T,disabled:!ec||!O,tooltip:{content:{side:"bottom",text:ec?void 0:"You need additional permissions to save your query"}},children:"Save query"}),(0,r.jsx)(N.$,{title:"run-logs-query",type:O?"primary":"alternative",disabled:!O,onClick:P,iconRight:(0,r.jsx)(d.A,{size:12}),loading:D,"data-sentry-element":"Button","data-sentry-source-file":"LogTable.tsx",children:"Run"})]})]}),{}),(0,r.jsxs)(S.HK,{direction:"horizontal","data-sentry-element":"ResizablePanelGroup","data-sentry-source-file":"LogTable.tsx",children:[(0,r.jsxs)(S.wV,{defaultSize:$?60:100,"data-sentry-element":"ResizablePanel","data-sentry-source-file":"LogTable.tsx",children:[(0,r.jsx)(x.Ay,{role:"table",style:{height:"100%"},className:(0,b.cn)("flex-1 flex-grow h-full border-0",{"data-grid--simple-logs":s,"data-grid--logs-explorer":!s}),rowHeight:40,headerRowHeight:28*!s,onSelectedCellChange:e=>{er(e)},onCellClick:e=>{eN(e.row)},columns:eh,rowClass:e=>(0,b.cn)("font-mono tracking-tight !bg-studio hover:!bg-surface-100 cursor-pointer",{"!bg-surface-200 rdg-row--focused":n()(e,ei)}),rows:ev,rowKeyGetter:e=>ex?e.id:JSON.stringify(e),renderers:{renderRow:ew,noRowsFallback:D?null:(0,r.jsxs)(r.Fragment,{children:[0===ev.length&&!H&&(0,r.jsx)(()=>F||(0,r.jsx)(en.y,{}),{}),H&&(0,r.jsx)(()=>{var e;if(!H)return null;let t={isCustomQuery:!s,error:H};return"object"==typeof H&&(null==(e=H.error)?void 0:e.errors.find(e=>"resourcesExceeded"===e.reason))?(0,r.jsx)(el,{...t}):(0,r.jsx)("div",{className:"text-foreground flex gap-2 font-mono p-4","data-sentry-component":"RenderErrorAlert","data-sentry-source-file":"LogTable.tsx",children:(0,r.jsx)(Q,{...t,"data-sentry-element":"DefaultErrorRenderer","data-sentry-source-file":"LogTable.tsx"})})},{})]})},"data-sentry-element":"DataGrid","data-sentry-source-file":"LogTable.tsx"}),(0,f.createPortal)((0,r.jsx)(m.W1,{id:ep,animation:!1,children:(0,r.jsxs)(m.q7,{onClick:()=>{if(!es)return;let e=es.row.event_message;(0,w.l)(e,()=>{J.oR.success("Copied to clipboard")})},children:[(0,r.jsx)(c.A,{size:14}),(0,r.jsx)("span",{className:"ml-2 text-xs",children:"Copy event message"})]})}),document.body)]}),(0,r.jsx)(S.WM,{withHandle:!0,"data-sentry-element":"ResizableHandle","data-sentry-source-file":"LogTable.tsx"}),ea&&(0,r.jsx)(S.wV,{minSize:40,defaultSize:50,children:(0,r.jsx)(V,{isLoading:G||!1,projectRef:M,onClose:()=>{null==Z||Z(null),eo(!1)},log:$,error:U,queryType:s,collectionName:B})})]})]}):null}},70639:(e,t,s)=>{s.d(t,{O:()=>w});var r=s(80263),a=s(53434),l=s.n(a),n=s(49009),o=s(62763),i=s(61062),d=s(66915),c=s(53239),u=s(38887),m=s.n(u),x=s(97380),f=s(29297),p=s(95125),g=s(51527),h=s(95793),y=s(71126),j=s(51859),v=s(54402);let w=e=>{let{onSubmit:t,helpers:s,value:a}=e,[u,w]=(0,c.useState)(!1);(0,c.useEffect)(()=>{if(!u){N(a.from?new Date(a.from):null),k(a.to?new Date(a.to):new Date);let e=a.from?new Date(a.from):null,t=a.to?new Date(a.to):null;T({HH:(null==e?void 0:e.getHours().toString().padStart(2,"0"))||"00",mm:(null==e?void 0:e.getMinutes().toString().padStart(2,"0"))||"00",ss:(null==e?void 0:e.getSeconds().toString().padStart(2,"0"))||"00"});let s=new Date,r=s.getHours().toString().padStart(2,"0"),l=s.getMinutes().toString().padStart(2,"0"),n=s.getSeconds().toString().padStart(2,"0");R({HH:(null==t?void 0:t.getHours().toString().padStart(2,"0"))||r,mm:(null==t?void 0:t.getMinutes().toString().padStart(2,"0"))||l,ss:(null==t?void 0:t.getSeconds().toString().padStart(2,"0"))||n})}},[u,a]);let[b,N]=(0,c.useState)(a.from?new Date(a.from):null),[S,k]=(0,c.useState)(a.to?new Date(a.to):new Date),[D,T]=(0,c.useState)({HH:(null==b?void 0:b.getHours().toString())||"00",mm:(null==b?void 0:b.getMinutes().toString())||"00",ss:(null==b?void 0:b.getSeconds().toString())||"00"}),[C,R]=(0,c.useState)({HH:(null==S?void 0:S.getHours().toString())||"23",mm:(null==S?void 0:S.getMinutes().toString())||"59",ss:(null==S?void 0:S.getSeconds().toString())||"59"}),[L,E]=(0,c.useState)(!1),[_,A]=(0,c.useState)(!1);function H(){navigator.clipboard.readText().then(e=>{try{let t=JSON.parse(e);if(!t.from||!t.to)return void console.warn("Invalid date range format in clipboard");let s=new Date(t.from),r=new Date(t.to);if(isNaN(s.getTime())||isNaN(r.getTime()))return void console.warn("Invalid date values in clipboard");N(s),k(r),T({HH:s.getHours().toString(),mm:s.getMinutes().toString(),ss:s.getSeconds().toString()}),R({HH:r.getHours().toString(),mm:r.getMinutes().toString(),ss:r.getSeconds().toString()}),A(!0)}catch(e){console.warn("Failed to parse clipboard content as date range:",e)}}).catch(e=>{console.warn("Failed to read clipboard:",e)})}function M(){if(!b||!S)return;let e=new Date(b),t=new Date(S);e.setHours(+D.HH,+D.mm,+D.ss),t.setHours(+C.HH,+C.mm,+C.ss),(0,g.l)(JSON.stringify({from:e.toISOString(),to:t.toISOString()})),E(!0)}(0,c.useEffect)(()=>{L&&setTimeout(()=>{E(!1)},2e3)},[L]),(0,c.useEffect)(()=>{_&&setTimeout(()=>{A(!1)},2e3)},[_]),(0,c.useEffect)(()=>(u&&(document.addEventListener("paste",H),document.addEventListener("copy",M)),()=>{document.removeEventListener("paste",H),document.removeEventListener("copy",M)}),[u,b,S]);let P=Math.abs(l()(b).diff(l()(S),"days"))>v.VM-1;return(0,r.jsxs)(h.AM,{open:u,onOpenChange:w,"data-sentry-element":"Popover_Shadcn_","data-sentry-component":"LogsDatePicker","data-sentry-source-file":"Logs.DatePickers.tsx",children:[(0,r.jsx)(h.Wv,{asChild:!0,"data-sentry-element":"PopoverTrigger_Shadcn_","data-sentry-source-file":"Logs.DatePickers.tsx",children:(0,r.jsx)(y.$,{type:"default",icon:(0,r.jsx)(n.A,{size:12}),"data-sentry-element":"Button","data-sentry-source-file":"Logs.DatePickers.tsx",children:a.isHelper?a.text:"".concat(l()(a.from).format("DD MMM, HH:mm")," - ").concat(l()(a.to||new Date).format("DD MMM, HH:mm"))})}),(0,r.jsxs)(h.hl,{className:"flex w-full p-0",side:"bottom",align:"center",portal:!0,"data-sentry-element":"PopoverContent_Shadcn_","data-sentry-source-file":"Logs.DatePickers.tsx",children:[(0,r.jsx)(f.z6,{onValueChange:e=>{let r=s.find(t=>t.text===e);t&&r&&t({to:r.calcTo(),from:r.calcFrom(),isHelper:!0,text:r.text}),w(!1)},value:a.isHelper?a.text:"",className:"border-r p-2 flex flex-col gap-px","data-sentry-element":"RadioGroup","data-sentry-source-file":"Logs.DatePickers.tsx",children:s.map(e=>(0,r.jsxs)(x.J,{className:(0,j.cn)("[&:has([data-state=checked])]:bg-background-overlay-hover [&:has([data-state=checked])]:text-foreground px-4 py-1.5 text-foreground-light flex items-center gap-2 hover:bg-background-overlay-hover hover:text-foreground transition-all rounded-sm text-xs",{"cursor-not-allowed pointer-events-none opacity-50":e.disabled}),children:[(0,r.jsx)(f.CU,{hidden:!0,value:e.text,disabled:e.disabled,"aria-disabled":e.disabled},e.text),e.text]},e.text))}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex p-2 gap-2 items-center",children:[(0,r.jsxs)("div",{className:"flex flex-grow *:flex-grow gap-2 font-mono",children:[(0,r.jsx)(p.A,{type:"start",startTime:D,endTime:C,time:D,setTime:T,setStartTime:T,setEndTime:R,startDate:b,endDate:S,"data-sentry-element":"TimeSplitInput","data-sentry-source-file":"Logs.DatePickers.tsx"}),(0,r.jsx)(p.A,{type:"end",startTime:D,endTime:C,time:C,setTime:R,setStartTime:T,setEndTime:R,startDate:b,endDate:S,"data-sentry-element":"TimeSplitInput","data-sentry-source-file":"Logs.DatePickers.tsx"})]}),(0,r.jsx)("div",{className:"flex-shrink",children:(0,r.jsx)(y.$,{icon:(0,r.jsx)(o.A,{size:14}),type:"text",size:"tiny",className:"px-1.5",onClick:()=>{T({HH:"00",mm:"00",ss:"00"}),R({HH:"00",mm:"00",ss:"00"})},"data-sentry-element":"Button","data-sentry-source-file":"Logs.DatePickers.tsx"})})]}),(0,r.jsx)("div",{className:"p-2 border-t",children:(0,r.jsx)(m(),{inline:!0,selectsRange:!0,onChange:e=>{!function(e){let[t,s]=e;N(t),k(s)}(e)},dateFormat:"MMMM d, yyyy h:mm aa",dayClassName:()=>"cursor-pointer",startDate:b,endDate:S,renderCustomHeader:e=>{let{date:t,decreaseMonth:s,increaseMonth:a,prevMonthButtonDisabled:n,nextMonthButtonDisabled:o}=e;return(0,r.jsx)("div",{className:"flex items-center justify-between",children:(0,r.jsxs)("div",{className:"flex w-full items-center justify-between",children:[(0,r.jsx)(y.$,{onClick:s,disabled:n,icon:(0,r.jsx)(i.A,{size:14,strokeWidth:2}),type:"text",size:"tiny",className:"px-1.5"}),(0,r.jsx)("span",{className:"text-sm text-foreground-light",children:l()(t).format("MMMM YYYY")}),(0,r.jsx)(y.$,{onClick:a,disabled:o,icon:(0,r.jsx)(d.A,{size:14,strokeWidth:2}),type:"text",size:"tiny",className:"px-1.5"})]})})},"data-sentry-element":"DatePicker","data-sentry-source-file":"Logs.DatePickers.tsx"})}),P&&(0,r.jsxs)("div",{className:"text-xs px-3 py-1.5 border-y bg-warning-300 text-warning-foreground border-warning-500 text-warning-600",children:["Large ranges may result in memory errors for ",(0,r.jsx)("br",{})," big projects."]}),(0,r.jsxs)("div",{className:"flex items-center justify-end gap-2 p-2 border-t",children:[b&&S?(0,r.jsx)(y.$,{type:"text",size:"tiny",onClick:M,className:(0,j.cn)({"text-brand-600":L||_}),children:L?"Copied!":_?"Pasted!":"Copy range"}):null,(0,r.jsx)(y.$,{type:"default",onClick:()=>{N(new Date),k(new Date)},"data-sentry-element":"Button","data-sentry-source-file":"Logs.DatePickers.tsx",children:"Today"}),(0,r.jsx)(y.$,{onClick:function(){let e=b||new Date,s=S||new Date,r=new Date(e.setHours(+D.HH,+D.mm,+D.ss)),a=new Date(s.setHours(+C.HH,+C.mm,+C.ss));t({from:r.toISOString(),to:a.toISOString(),isHelper:!1}),w(!1)},"data-sentry-element":"Button","data-sentry-source-file":"Logs.DatePickers.tsx",children:"Apply"})]})]})]})]})}},72706:(e,t,s)=>{s.d(t,{t:()=>a});var r=s(12056);function a(){return(0,r.ZA)("log")}},74738:(e,t,s)=>{s.d(t,{y:()=>n});var r=s(80263),a=s(95285);let l=()=>(0,r.jsx)("div",{className:"relative flex h-4 w-32 items-center rounded border border-dashed border-stronger px-2","data-sentry-component":"EmptyStateRow","data-sentry-source-file":"LogsTableEmptyState.tsx"});function n(e){let{title:t="No results found",description:s="Try another search or adjust the filters"}=e;return(0,r.jsxs)("div",{className:"flex scale-100 flex-col items-center justify-center gap-6 text-center opacity-100 h-full","data-sentry-component":"LogsTableEmptyState","data-sentry-source-file":"LogsTableEmptyState.tsx",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-1 relative",children:[(0,r.jsx)(l,{"data-sentry-element":"EmptyStateRow","data-sentry-source-file":"LogsTableEmptyState.tsx"}),(0,r.jsx)(l,{"data-sentry-element":"EmptyStateRow","data-sentry-source-file":"LogsTableEmptyState.tsx"}),(0,r.jsx)(l,{"data-sentry-element":"EmptyStateRow","data-sentry-source-file":"LogsTableEmptyState.tsx"}),(0,r.jsx)(a.A,{size:30,className:"absolute right-3 -bottom-2 text-foreground-lighter","data-sentry-element":"Search","data-sentry-source-file":"LogsTableEmptyState.tsx"})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-1 px-5",children:[(0,r.jsx)("h3",{className:"text-lg text-foreground",children:t}),(0,r.jsx)("p",{className:"text-sm max-w-xs text-foreground-lighter",children:s})]})]})}},92737:(e,t,s)=>{s.d(t,{b:()=>h});var r=s(80263),a=s(95137),l=s.n(a),n=s(57953),o=s(62659),i=s(99709),d=s(77406),c=s(77191),u=s.n(c),m=s(53239),x=s(73969),f=s(51527),p=s(74115),g=s(71126);let h=e=>{let{iconOnly:t=!1,type:s="default",text:a="Export",align:c="start",results:h,fileName:y,onDownloadAsCSV:j,onCopyAsMarkdown:v,onCopyAsJSON:w}=e,b=h.map(e=>{let t={...e};return Object.keys(e).forEach(s=>{"object"==typeof e[s]&&(t[s]=JSON.stringify(e[s]))}),t}),N=(0,m.useMemo)(()=>{if(h){let e=Array.from(h)[0];if(e)return Object.keys(e)}},[h]),S=()=>{let e=new Blob([u().unparse(b,{columns:N})],{type:"text/csv;charset=utf-8;"});l()(e,"".concat(y,".csv")),x.oR.success("Downloading results as CSV"),null==j||j()};return(0,r.jsxs)(p.rI,{"data-sentry-element":"DropdownMenu","data-sentry-component":"DownloadResultsButton","data-sentry-source-file":"DownloadResultsButton.tsx",children:[(0,r.jsx)(p.ty,{asChild:!0,"data-sentry-element":"DropdownMenuTrigger","data-sentry-source-file":"DownloadResultsButton.tsx",children:(0,r.jsx)(g.$,{type:s,icon:t?(0,r.jsx)(n.A,{}):void 0,iconRight:t?void 0:(0,r.jsx)(o.A,{}),disabled:0===h.length,className:t?"w-7":"","data-sentry-element":"Button","data-sentry-source-file":"DownloadResultsButton.tsx",children:!t&&a})}),(0,r.jsxs)(p.SQ,{align:c,className:"w-44","data-sentry-element":"DropdownMenuContent","data-sentry-source-file":"DownloadResultsButton.tsx",children:[(0,r.jsxs)(p._2,{className:"gap-x-2",onClick:()=>S(),"data-sentry-element":"DropdownMenuItem","data-sentry-source-file":"DownloadResultsButton.tsx",children:[(0,r.jsx)(n.A,{size:14,"data-sentry-element":"Download","data-sentry-source-file":"DownloadResultsButton.tsx"}),(0,r.jsx)("p",{children:"Download CSV"})]}),(0,r.jsxs)(p._2,{onClick:()=>{if(navigator){0==b.length&&(0,x.oR)("Results are empty");let e=Object.keys(b[0]),t=b.map(t=>{let s=[];return e.forEach(e=>s.push(t[e])),s}),s=[e].concat(t),r=(0,d.Q)(s);(0,f.l)(r,()=>{x.oR.success("Copied results to clipboard"),null==v||v()})}},className:"gap-x-2","data-sentry-element":"DropdownMenuItem","data-sentry-source-file":"DownloadResultsButton.tsx",children:[(0,r.jsx)(i.A,{size:14,"data-sentry-element":"Clipboard","data-sentry-source-file":"DownloadResultsButton.tsx"}),(0,r.jsx)("p",{children:"Copy as markdown"})]}),(0,r.jsxs)(p._2,{onClick:()=>{if(navigator){if(0===h.length)return(0,x.oR)("Results are empty");(0,f.l)(JSON.stringify(h,null,2),()=>{x.oR.success("Copied results to clipboard"),null==w||w()})}},className:"gap-x-2","data-sentry-element":"DropdownMenuItem","data-sentry-source-file":"DownloadResultsButton.tsx",children:[(0,r.jsx)(i.A,{size:14,"data-sentry-element":"Clipboard","data-sentry-source-file":"DownloadResultsButton.tsx"}),(0,r.jsx)("p",{children:"Copy as JSON"})]})]})]})}}}]);